<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reinigungsservice Deutschland | AJK Cleaning - Professionelle Reinigung in Bischofsheim</title>
    
    <script id="usercentrics-cmp" src="https://app.usercentrics.eu/browser-ui/latest/loader.js" data-settings-id="8b2vYJAM6JTPCf" async onerror="console.warn('Usercentrics script blocked by ad blocker')"></script>

    <!-- DNS Prefetch for external domains -->
    <link rel="dns-prefetch" href="//maps.googleapis.com">
    <link rel="dns-prefetch" href="//generativelanguage.googleapis.com">
    <link rel="dns-prefetch" href="//app.usercentrics.eu">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//images.unsplash.com">
    
    <!-- Preconnect to critical third-party origins -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- Preload critical resources -->
    <link rel="preload" as="image" href="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" fetchpriority="high">
    <link rel="preload" as="style" href="./dist/output.css">
    <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    
    <!-- Prefetch likely next page resources -->
    <link rel="prefetch" href="/booking.html">
    <link rel="prefetch" href="/admin.html">
    <link rel="prefetch" href="/images/logo.webp">
    <link rel="prefetch" href="/images/logo.png">

    <meta name="description" content="Professioneller Reinigungsservice in Deutschland - AJK Cleaning bietet Wohnungsreinigung, Büroreinigung & Gewerbereinigung in Bischofsheim, Mainz, Wiesbaden. Ökologisch, versichert, zufriedenheitsgarantie. Kostenloses Angebot!">
    <meta name="csrf-token" content="">
    <meta name="keywords" content="Reinigungsservice Deutschland, Reinigungsservice, Putzservice, Wohnungsreinigung, Büroreinigung, Gewerbereinigung, Reinigungsfirma, Putzfrau, Haushaltshilfe, Büroreinigung Mainz, Reinigung Wiesbaden, Reinigung Bischofsheim, Umzugsreinigung, Grundreinigung, Fensterreinigung, Teppichreinigung, Büroreinigung Frankfurt, Reinigungsservice Hessen, professionelle Reinigung, ökologische Reinigung, Reinigungsunternehmen">
    <meta name="author" content="AJK Cleaning Company">
    <meta name="robots" content="index, follow">
    <meta name="geo.region" content="DE-HE">
    <meta name="geo.placename" content="Bischofsheim">
    <meta name="geo.position" content="49.9939;8.3669">
    <link rel="alternate" hreflang="de" href="https://www.ajkcleaning.com/de">
    <link rel="alternate" hreflang="en" href="https://www.ajkcleaning.com">
    <link rel="canonical" href="https://www.ajkcleaners.de">

    <link rel="sitemap" type="application/xml" href="/sitemap.xml">
    <link rel="me" href="https://www.facebook.com/ajkcleaning">
    <link rel="me" href="https://www.instagram.com/ajkcleaning">
    <meta name="google-site-verification" content="YOUR_VERIFICATION_CODE">

    <meta property="og:title" content="AJK Cleaning Company | Professional Cleaning Services in Bischofsheim">
    <meta property="og:description" content="Top-rated, eco-friendly cleaning for homes and businesses in Bischofsheim. Get your free quote today!">
    <meta property="og:image" content="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">
    <meta property="og:url" content="https://www.ajkcleaners.de">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="en_DE">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="AJK Cleaning Company | Professional Cleaning Services">
    <meta name="twitter:description" content="Top-rated, eco-friendly cleaning for homes and businesses in Bischofsheim. Get your free quote today!">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80">

    <!-- Favicon - Optimized for Google Search Results -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- Additional favicon formats for better compatibility -->
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon-32x32.png" type="image/png" sizes="32x32">
    <link rel="icon" href="/favicon-16x16.png" type="image/png" sizes="16x16">

    <!-- Structured Data for Local Business -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "LocalBusiness",
        "name": "AJK Cleaning Company",
        "description": "Professioneller Reinigungsservice in Deutschland - Wohnungsreinigung, Büroreinigung & Gewerbereinigung",
        "url": "https://www.ajkcleaners.de",
        "telephone": "+49-123-456-7890",
        "email": "info@ajkcleaners.de",
        "address": {
            "@type": "PostalAddress",
            "streetAddress": "Musterstraße 123",
            "addressLocality": "Bischofsheim",
            "addressRegion": "Hessen",
            "postalCode": "65474",
            "addressCountry": "DE"
        },
        "geo": {
            "@type": "GeoCoordinates",
            "latitude": "49.9939",
            "longitude": "8.3669"
        },
        "areaServed": [
            {
                "@type": "City",
                "name": "Bischofsheim"
            },
            {
                "@type": "City", 
                "name": "Mainz"
            },
            {
                "@type": "City",
                "name": "Wiesbaden"
            },
            {
                "@type": "City",
                "name": "Frankfurt"
            }
        ],
        "serviceType": [
            "Wohnungsreinigung",
            "Büroreinigung", 
            "Gewerbereinigung",
            "Umzugsreinigung",
            "Grundreinigung",
            "Fensterreinigung",
            "Teppichreinigung"
        ],
        "priceRange": "€€",
        "openingHours": "Mo-Fr 08:00-18:00",
        "sameAs": [
            "https://www.facebook.com/ajkcleaning",
            "https://www.instagram.com/ajkcleaning"
        ],
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.9",
            "reviewCount": "127"
        }
    }
    </script>

    <link rel="stylesheet" href="./dist/output.css" onerror="console.warn('Tailwind CSS failed to load, using fallback styles')">
    <link rel="stylesheet" href="./styles.css">
    <script>
        // Tailwind config is now in tailwind.config.js
    </script>
    
    <!-- PWA Install Prompt -->
    <div id="pwa-install-prompt" class="fixed z-50 hidden max-w-sm p-4 bg-white border border-gray-200 rounded-lg shadow-lg bottom-4 right-4">
        <div class="flex items-start space-x-3">
            <div class="flex-shrink-0">
                <img src="/android-chrome-192x192.png" alt="AJK Cleaning" class="w-12 h-12 rounded-lg" width="48" height="48" loading="lazy" decoding="async">
            </div>
            <div class="flex-1">
                <h3 class="text-sm font-semibold text-gray-900">Install AJK Cleaning App</h3>
                <p class="mt-1 text-xs text-gray-600">Get quick access to book cleaning services</p>
                <div class="flex mt-3 space-x-2">
                    <button id="pwa-install-btn" class="px-3 py-1 text-xs text-white bg-blue-600 rounded hover:bg-blue-700">
                        Install
                    </button>
                    <button id="pwa-dismiss-btn" class="px-3 py-1 text-xs text-gray-500 hover:text-gray-700">
                        Not now
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" integrity="sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root{--primary:#1e40af;--primary-dark:#1e3a8a;--secondary:#059669;--secondary-dark:#047857}
        .bg-primary{background-color:var(--primary)}
        .bg-primary-dark{background-color:var(--primary-dark)}
        .bg-secondary{background-color:var(--secondary)}
        .bg-secondary-dark{background-color:var(--secondary-dark)}
        .text-primary{color:var(--primary)}
        .text-primary-dark{color:var(--primary-dark)}
        .text-secondary{color:var(--secondary)}
        .text-secondary-dark{color:var(--secondary-dark)}
        .border-primary{border-color:var(--primary)}
        .border-secondary{border-color:var(--secondary)}
        .hover\:bg-primary-dark:hover{background-color:var(--primary-dark)}
        .hover\:bg-secondary-dark:hover{background-color:var(--secondary-dark)}
        .from-secondary{background:linear-gradient(to right,var(--secondary),var(--secondary-dark))}
        .to-secondary-dark{background:linear-gradient(to right,var(--secondary),var(--secondary-dark))}
        .hover\:from-secondary-dark:hover{background:linear-gradient(to right,var(--secondary-dark),var(--secondary-dark))}
        .hover\:to-secondary-dark:hover{background:linear-gradient(to right,var(--secondary-dark),var(--secondary-dark))}
        .bg-gradient-to-r{background:linear-gradient(to right,var(--secondary),var(--secondary-dark))}
        *{scroll-behavior:smooth;box-sizing:border-box}
        body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;line-height:1.6;color:#374151}
        #navbar { transition: background-color 0.3s, box-shadow 0.3s, backdrop-filter 0.3s; }
        .navbar-scrolled{box-shadow:0 4px 18px rgba(0,0,0,.1);backdrop-filter:blur(12px);background-color:hsla(0,0%,100%,.97)}
        .nav-link{position:relative;padding:.5rem 0;transition:all .3s ease;font-weight:500}
        .nav-link::after{content:'';position:absolute;width:0;height:2px;bottom:0;left:0;background-color:var(--primary);transition:width .3s ease}
        .nav-link:hover::after,.nav-link.active::after{width:100%}
        #navbar:not(.navbar-scrolled) .nav-link { color: #D1D5DB; }
        #navbar:not(.navbar-scrolled) .nav-link:hover, #navbar:not(.navbar-scrolled) .nav-link.active { color: #FFF; }
        #navbar:not(.navbar-scrolled) .nav-link::after { background-color: #FFF; }
        #navbar:not(.navbar-scrolled) #company-name { color: #FFF; }
        #navbar:not(.navbar-scrolled) .menu-line { background-color: #FFF; }
        .mobile-menu{transition:all .4s cubic-bezier(.68,-.55,.27,1.55);transform-origin:top;opacity:0;transform:scaleY(0) translateY(-20px);display:none}
        .mobile-menu.open{display:flex;opacity:1;transform:scaleY(1) translateY(0)}
        .cta-button{position:relative;overflow:hidden;transition:all .3s ease;z-index:1}
        .cta-button::before{content:'';position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,hsla(0,0%,100%,.2),transparent);transition:all .6s ease;z-index:-1}
        .cta-button:hover::before{left:100%}
        .menu-line{transition:all .3s ease}
        .menu-open .menu-line:nth-child(1){transform:rotate(45deg) translate(6px,6px)}
        .menu-open .menu-line:nth-child(2){opacity:0}
        .menu-open .menu-line:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}
        .hero-overlay{background:linear-gradient(135deg,rgba(10,25,47,.7),rgba(10,25,47,.5))}
        .service-card,.trust-point,.faq-item{contain:layout style}
        .service-card{transition:all .4s cubic-bezier(.175,.885,.32,1.275);overflow:hidden}
        .service-card:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 20px 40px rgba(0,0,0,.1)}
        .form-input { transition: border-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out; }
        .form-input.invalid { border-color: #f87171 !important; }
        .form-input.valid { border-color: #34d399 !important; }
        #submit-btn:disabled { background-color: #9ca3af; cursor: not-allowed; }
        .char-counter { font-size: 0.8rem; text-align: right; color: #6b7280; margin-top: 4px; height: 1rem; transition: color 0.2s; }
        .char-counter.invalid { color: #ef4444; }
        @keyframes fadeInUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
        .animate-fade-in-up{animation:fadeInUp .8s ease-out forwards; opacity: 0;}
        @keyframes pulse-shadow {
          0%, 100% {
            transform: scale(1);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
          }
          50% {
            transform: scale(1.05);
            box-shadow: 0 20px 25px -5px rgba(30, 64, 175, 0.4), 0 8px 10px -6px rgba(30, 64, 175, 0.4);
          }
        }
        .animate-pulse-shadow {
          animation: pulse-shadow 2.5s infinite ease-in-out;
        }
        .trust-point{background:#f8fafc;border-left:4px solid var(--primary);transition:all .3s ease}
        .trust-point:hover{background:#f1f5f9;transform:translateX(5px)}
        .skip-link{position:absolute;top:-40px;left:6px;background:#000;color:#fff;padding:8px;z-index:10000;text-decoration:none}
        .skip-link:focus{top:6px}
        @media (prefers-reduced-motion:reduce){*{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important;scroll-behavior:auto!important}}
        a:focus-visible,button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:2px solid var(--primary);outline-offset:2px}
        .text-blue-200{color:#bfdbfe}
        .sticky-cta{padding-bottom:constant(safe-area-inset-bottom);padding-bottom:env(safe-area-inset-bottom);z-index:50}
        .hero-image{
            background-image:url(https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80);
            background-size:cover;
            background-position:center;
            background-attachment:scroll;
            position:relative;
            overflow:hidden;
        }
        .hero-image::before{
            content:'';
            position:absolute;
            top:0;
            left:0;
            right:0;
            bottom:0;
            background:linear-gradient(135deg, rgba(30,64,175,0.85) 0%, rgba(15,23,42,0.75) 50%, rgba(30,64,175,0.9) 100%);
            z-index:1;
        }
        .hero-image::after{
            content:'';
            position:absolute;
            top:0;
            left:0;
            right:0;
            bottom:0;
            background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="dots" width="30" height="30" patternUnits="userSpaceOnUse"><circle cx="15" cy="15" r="0.5" fill="white" opacity="0.3"/></pattern></defs><rect width="100" height="100" fill="url(%23dots)"/></svg>');
            z-index:2;
        }
        @media (min-width: 1024px) { .hero-image { background-attachment: fixed; } }
        .faq-question{cursor:pointer}
        .faq-answer{max-height:0;overflow:hidden;transition:max-height .5s ease-in-out; contain: content;}
        .faq-item.open .faq-answer{max-height:300px}
        .faq-item.open .faq-icon{transform:rotate(180deg)}
        .faq-icon{transition:transform .3s ease}
        .chat-widget-enhanced{position:fixed;bottom:20px;right:20px;z-index:1000;font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif}
        .chat-toggle{position:relative;width:70px;height:70px;background:#1e40af;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 6px 20px rgba(0,0,0,.2);transition:all .3s ease;color:#fff;font-size:24px}
        .chat-toggle:hover{background:#1e3a8a;transform:scale(1.05)}
        .unread-badge{position:absolute;top:-5px;right:-5px;background:#ef4444;color:#fff;border-radius:50%;min-width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;border:2px solid #fff}
        .chat-window{position:absolute;bottom:75px;right:0;width:420px;height:600px;background:#fff;border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.25);overflow:hidden;display:flex;flex-direction:column;transform:translateY(20px) scale(.9);opacity:0;transition:all .3s cubic-bezier(.68,-.55,.265,1.55);display:none}
        .chat-window.open{transform:translateY(0) scale(1);opacity:1;display:flex}
        .chat-header{background:#1e40af;color:#fff;padding:20px;display:flex;justify-content:space-between;align-items:center}
        .chat-header h3{margin:0;font-size:18px;font-weight:600}
        .chat-status{font-size:12px;opacity:.9; display: flex; flex-direction: column; align-items: flex-start; gap: 4px;}
        .chat-status::before { content: ''; display: block; width: 8px; height: 8px; background-color: #34d399; border-radius: 50%;}
        .chat-mode-indicator{margin-top: 4px;}
        .mode-badge{display: inline-flex; align-items: center; gap: 4px; padding: 2px 8px; border-radius: 12px; font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px;}
        .mode-badge.ai-mode{background: rgba(59, 130, 246, 0.2); color: #3b82f6; border: 1px solid rgba(59, 130, 246, 0.3);}
        .mode-badge.human-mode{background: rgba(16, 185, 129, 0.2); color: #10b981; border: 1px solid rgba(16, 185, 129, 0.3);}
        .chat-action-btn{display: flex; align-items: center; gap: 4px; padding: 4px 8px; border-radius: 6px; font-size: 11px; font-weight: 600;}
        .chat-action-btn .btn-text{display: inline;}
        
        /* Chat Switch Notification Styles */
        .chat-switch-notification{
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 2px solid #3b82f6;
            border-radius: 12px;
            margin: 10px;
            padding: 16px;
            position: relative;
            animation: slideInDown 0.5s ease-out;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        .switch-notification-content{
            display: flex;
            align-items: center;
            gap: 12px;
        }
        .switch-notification-icon{
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            flex-shrink: 0;
        }
        .switch-notification-text{
            flex: 1;
        }
        .switch-notification-text h4{
            margin: 0 0 4px 0;
            font-size: 14px;
            font-weight: 600;
            color: #1f2937;
        }
        .switch-notification-text p{
            margin: 0;
            font-size: 12px;
            color: #6b7280;
            line-height: 1.4;
        }
        .switch-to-human-btn{
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }
        .switch-to-human-btn:hover{
            background: linear-gradient(135deg, #059669, #047857);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(16, 185, 129, 0.3);
        }
        .switch-notification-close{
            position: absolute;
            top: 8px;
            right: 8px;
            background: none;
            border: none;
            color: #9ca3af;
            font-size: 16px;
            cursor: pointer;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }
        .switch-notification-close:hover{
            background: #f3f4f6;
            color: #6b7280;
        }
        @keyframes slideInDown{
            from{opacity: 0; transform: translateY(-20px);}
            to{opacity: 1; transform: translateY(0);}
        }
        .chat-header-actions{display:flex;gap:8px;align-items:center}
        .chat-header{position:relative;display:flex;justify-content:space-between;align-items:center;padding:20px;padding-right:60px;min-height:80px}
        .close-btn{position:absolute;top:20px;right:20px;z-index:10;width:32px;height:32px;border-radius:50%;background:#f3f4f6;color:#374151;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:18px;transition:all .2s}
        .close-btn:hover{background:#e5e7eb;transform:scale(1.05)}
        .chat-header-info{flex:1;margin-right:20px}
        .chat-header-actions{flex-shrink:0;display:flex;align-items:center}
        @media (min-width:769px){
            .chat-header{display:flex;flex-direction:column;align-items:flex-start;padding:20px;padding-right:60px;min-height:100px;position:relative}
            .chat-header-info{flex:1;margin-right:0;margin-bottom:15px;width:100%}
            .chat-header-actions{flex-shrink:0;display:flex;align-items:center;position:absolute;bottom:15px;right:20px}
            .close-btn{position:absolute;top:20px;right:20px;z-index:10}
        }
        .chat-action-btn{background:linear-gradient(135deg, #10b981, #059669);border:none;color:#fff;padding:10px 16px;border-radius:8px;cursor:pointer;font-size:14px;font-weight:600;display:flex;align-items:center;gap:6px;transition:all .2s;flex-shrink:0;position:relative;min-height:40px;min-width:150px}
        .chat-action-btn:hover{background:linear-gradient(135deg, #059669, #047857);transform:translateY(-1px)}
        .chat-action-btn.highlight{animation:pulse-glow 2s infinite;box-shadow:0 0 15px rgba(16,185,129,0.5)}
        @keyframes pulse-glow{0%,100%{box-shadow:0 0 15px rgba(16,185,129,0.5)}50%{box-shadow:0 0 25px rgba(16,185,129,0.8)}}
        .chat-action-btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}
        .close-btn{background:hsla(0,0%,100%,.2);border:none;color:#fff;width:36px;height:36px;border-radius:6px;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:background .2s;flex-shrink:0}
        .close-btn:hover{background:hsla(0,0%,100%,.3)}
        .chat-messages{flex:1;padding:20px;overflow-y:auto;background:#f8fafc}
        .message{margin-bottom:15px;animation:messageSlide .3s ease-out}
        @keyframes messageSlide{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        .message-content{max-width:85%;padding:12px 18px;border-radius:18px;word-wrap:break-word;line-height:1.5;font-size:15px}
        .user-message .message-content{background:#1e40af;color:#fff;margin-left:auto;border-bottom-right-radius:4px}
        .admin-message .message-content{background:#fff;color:#374151;border:1px solid #e5e7eb;border-bottom-left-radius:4px}
        .system-message .message-content{background:#f3f4f6;color:#6b7280;margin:0 auto;text-align:center;border-radius:12px;font-size:14px; font-style: italic;}
        .message-time{font-size:11px;color:#9ca3af;margin-top:5px;text-align:right}
        .user-message .message-time{text-align:right}
        .admin-message .message-time{text-align:left}
        .typing-indicator{padding:15px;background:#fff;border-top:1px solid #e5e7eb;display:flex;align-items:center;gap:10px;display:none}
        .typing-dots{display:flex;gap:3px}
        .typing-dots span{width:6px;height:6px;border-radius:50%;background:#9ca3af;animation:typingDot 1.4s infinite ease-in-out}
        .typing-dots span:nth-child(1){animation-delay:-.32s}
        .typing-dots span:nth-child(2){animation-delay:-.16s}
        @keyframes typingDot{0%,80%,100%{transform:scale(0);opacity:.5}40%{transform:scale(1);opacity:1}}
        .typing-text{font-size:12px;color:#6b7280}
        .chat-input-container{background:#fff;border-top:1px solid #e5e7eb;padding:20px}
        .user-info{padding:20px;display:flex;flex-direction:column;gap:15px;display:none}
        .user-info input{border:1px solid #d1d5db;border-radius:8px;padding:12px 16px;font-size:15px;min-height:48px}
        .user-info input:focus{outline:none;border-color:#1e40af;box-shadow:0 0 0 3px rgba(30,64,175,.1)}
        .user-info button{background:#1e40af;color:#fff;border:none;border-radius:8px;padding:12px 20px;cursor:pointer;font-weight:600;transition:background .2s;font-size:15px;min-height:48px}
        .user-info button:hover{background:#1e3a8a}
        .chat-input-area{display:flex;padding:20px;gap:12px;align-items:flex-end}
        #chat-input-enhanced{flex:1;border:1px solid #d1d5db;border-radius:20px;padding:12px 18px;font-size:15px;resize:none;max-height:120px;min-height:48px;line-height:1.5}
        #chat-input-enhanced:focus{outline:none;border-color:#1e40af;box-shadow:0 0 0 3px rgba(30,64,175,.1)}
        #chat-send-enhanced{background:#1e40af;color:#fff;border:none;border-radius:50%;width:48px;height:48px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s;font-size:18px}
        #chat-send-enhanced:hover:not(:disabled){background:#1e3a8a;transform:scale(1.05)}
        #chat-send-enhanced:disabled{background:#9ca3af;cursor:not-allowed;transform:none}
        @media (max-width:768px){
            .chat-widget-enhanced{bottom:20px!important;right:1px;z-index:60}
            .chat-window{width:calc(100vw - 40px)!important;right:0!important;height:70vh!important;max-height:600px!important;bottom:75px!important;border-radius:20px!important}
            .chat-toggle{width:65px;height:65px;font-size:22px;right:1px;bottom:20px!important}
            .chat-header{padding:20px;padding-right:60px;border-radius:20px 20px 0 0;display:flex!important;flex-direction:column;align-items:flex-start;min-height:auto}
            .chat-header h3{font-size:18px;font-weight:600}
            .chat-action-btn{padding:10px 16px;font-size:13px;min-height:40px;border-radius:20px;font-weight:500}
            .close-btn{width:36px;height:36px;font-size:18px;border-radius:50%;top:15px!important;right:15px!important}
            .chat-status{font-size:12px;margin-top:4px}
            .mode-badge{font-size:10px;padding:3px 8px;border-radius:12px}
            .chat-header-actions{gap:8px;flex-wrap:wrap;margin-top:12px;width:100%}
            .chat-action-btn .btn-text{display:inline!important;font-size:12px;margin-left:6px}
            .chat-messages{padding:15px;max-height:calc(70vh - 200px)!important}
            .chat-input-container{padding:15px;border-radius:0 0 20px 20px}
            .chat-input{font-size:16px;padding:12px 16px;border-radius:25px}
            .chat-send{width:48px;height:48px;border-radius:50%!important;min-width:48px!important;min-height:48px!important;aspect-ratio:1!important}
            #chat-send-enhanced{width:48px!important;height:48px!important;border-radius:50%!important;min-width:48px!important;min-height:48px!important;aspect-ratio:1!important}
            .typing-indicator{padding:10px 15px}
            .typing-text{font-size:13px}
            .chat-switch-notification{padding:15px;border-radius:15px;margin:10px}
            .switch-notification-content h4{font-size:16px;margin-bottom:8px}
            .switch-notification-content p{font-size:13px;line-height:1.4}
            .switch-to-human-btn{padding:10px 16px;font-size:13px;border-radius:20px}
            .chat-toggle:hover{transform:scale(1.1)!important}
            .chat-action-btn:hover{transform:translateY(-1px)!important;box-shadow:0 4px 12px rgba(0,0,0,0.15)!important}
            .chat-messages::-webkit-scrollbar{width:4px}
            .chat-messages::-webkit-scrollbar-track{background:#f1f5f9;border-radius:2px}
            .chat-messages::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:2px}
            .chat-messages::-webkit-scrollbar-thumb:hover{background:#94a3b8}
            .message{max-width:85%!important;margin-bottom:12px!important}
            .message.user{background:linear-gradient(135deg,#1e40af,#1e3a8a)!important;color:white!important;border-radius:20px 20px 5px 20px!important}
            .message.assistant{background:#f8fafc!important;color:#374151!important;border-radius:20px 20px 20px 5px!important;border:1px solid #e2e8f0!important}
            .message.human{background:linear-gradient(135deg,#059669,#047857)!important;color:white!important;border-radius:20px 20px 5px 20px!important}
            .hero-content h1{font-size:2.5rem;line-height:1.2}
            .hero-content p{font-size:1.1rem}
            .service-card{padding:1.5rem}
            .service-card h3{font-size:1.25rem}
            .comparison-table{grid-template-columns:1fr;gap:1rem}
            .comparison-table .table-header{display:none}
            .comparison-table > div{padding:1rem;border-radius:8px;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
        }
        .chat-messages::-webkit-scrollbar{width:6px}
        .chat-messages::-webkit-scrollbar-track{background:#f1f5f9}
        .chat-messages::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}
        .chat-messages::-webkit-scrollbar-thumb:hover{background:#94a3b8}
        #checklist-modal { transition: opacity 0.3s ease; }
        #checklist-modal-content { transition: transform 0.3s ease; }
        #checklist-modal-content h3 { font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem; color: var(--primary); }
        #checklist-modal-content ul { list-style-type: disc; margin-left: 1.5rem; }
        #checklist-modal-content li { margin-bottom: 0.5rem; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        .loader { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        #tip-result-container { transition: opacity 0.3s ease; }
        .prose h3, .prose h4 { margin-bottom: 0.5em !important; margin-top: 1em !important; color: var(--primary); }
        .prose ul { padding-left: 1.5em !important; margin-top: 0.5em !important;}
        
        /* Review Modal Styles */
        .rating-input {
            display: flex;
            flex-direction: row-reverse;
            justify-content: flex-end;
        }
        .rating-input input[type="radio"] {
            display: none;
        }
        .rating-input label {
            font-size: 2rem;
            color: #d1d5db;
            cursor: pointer;
            transition: color 0.2s;
        }
        .rating-input label:hover,
        .rating-input label:hover ~ label,
        .rating-input input[type="radio"]:checked ~ label {
            color: #fbbf24;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
        }
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 0;
            border-radius: 8px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-header h3 {
            margin: 0;
            font-size: 1.25rem;
            font-weight: 600;
        }
        .close {
            font-size: 1.5rem;
            cursor: pointer;
            color: #6b7280;
        }
        .close:hover {
            color: #374151;
        }
        .modal-body {
            padding: 20px;
        }
        .modal-footer {
            padding: 20px;
            border-top: 1px solid #e5e7eb;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #374151;
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            font-size: 14px;
        }
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .admin-message .message-content a { text-decoration: underline; }
        .admin-message .message-content a:hover { color: var(--primary-dark); }
        
        .lang-switcher{position:relative;display:flex;align-items:center;background-color:#f1f5f9;border-radius:9999px;padding:4px}
        .lang-option{display:flex;align-items:center;justify-content:center;padding:6px;border-radius:9999px;cursor:pointer;transition:all .3s ease;border:2px solid transparent;background-color:transparent}
        .lang-option svg{width:24px;height:18px;border-radius:3px;box-shadow:0 1px 3px rgba(0,0,0,0.1)}
        .lang-option:hover{background-color:#e2e8f0}
        .lang-option.active{background-color:#ffffff;border-color:var(--primary);box-shadow:0 2px 5px rgba(0,0,0,0.1);transform:scale(1.05)}
        
        .animated-border-button {
          --border-width: 3px;
          position: relative;
          display: flex;
          justify-content: center;
          align-items: center;
          width: 100%;
          padding: 0.75rem 1.5rem;
          font-weight: 600;
          color: var(--primary);
          background: #fff;
          border-radius: 0.5rem; /* rounded-lg */
          text-decoration: none;
          transition: all 0.3s ease;
          z-index: 1;
        }

        .animated-border-button:hover {
            color: white;
            background: var(--primary);
        }

        .animated-border-button::after {
          position: absolute;
          content: "";
          top: calc(-1 * var(--border-width));
          left: calc(-1 * var(--border-width));
          z-index: -1;
          width: calc(100% + var(--border-width) * 2);
          height: calc(100% + var(--border-width) * 2);
          background: linear-gradient(
            60deg,
            hsl(221, 83%, 70%),
            hsl(162, 80%, 60%),
            hsl(280, 80%, 70%),
            hsl(221, 83%, 70%)
          );
          background-size: 300% 300%;
          background-position: 0 50%;
          border-radius: calc(0.5rem + var(--border-width));
          animation: moveGradient 4s alternate infinite;
        }

        @keyframes moveGradient {
          50% {
            background-position: 100% 50%;
          }
        }
        
        .testimonial-card{transition:transform 0.3s ease, box-shadow 0.3s ease}
        .testimonial-card:hover{transform:translateY(-5px);box-shadow:0 10px 20px rgba(0,0,0,0.1)}
        .stars .fa-star{color:#f59e0b}

        /* --- MODERN SLIDER STYLES --- */
        .styled-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 6px; /* Slightly thinner track */
            background: #e5e7eb; /* Light gray track */
            border-radius: 9999px; /* Pill-shaped track */
            outline: none;
            transition: background 0.3s;
            cursor: pointer;
        }
        .styled-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px; /* Larger thumb */
            height: 24px;
            background: var(--primary);
            border-radius: 50%;
            border: 4px solid white; /* White border for a "floating" effect */
            box-shadow: 0 2px 6px rgba(30, 64, 175, 0.3); /* Softer shadow */
            cursor: grab;
            transition: transform 0.2s cubic-bezier(.175,.885,.32,1.275), box-shadow 0.2s ease;
        }
        .styled-slider::-moz-range-thumb {
            width: 24px;
            height: 24px;
            background: var(--primary);
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 2px 6px rgba(30, 64, 175, 0.3);
            cursor: grab;
            transition: transform 0.2s cubic-bezier(.175,.885,.32,1.275), box-shadow 0.2s ease;
        }
        .styled-slider:active::-webkit-slider-thumb {
            transform: scale(1.15); /* Pop effect on click */
            cursor: grabbing;
            box-shadow: 0 4px 10px rgba(30, 64, 175, 0.4);
        }
        .styled-slider:active::-moz-range-thumb {
            transform: scale(1.15);
            cursor: grabbing;
            box-shadow: 0 4px 10px rgba(30, 64, 175, 0.4);
        }
        .styled-slider:focus-visible::-webkit-slider-thumb {
            outline: 3px solid rgba(30, 64, 175, 0.5);
            outline-offset: 2px;
        }
        .styled-slider:focus-visible::-moz-range-thumb {
            outline: 3px solid rgba(30, 64, 175, 0.5);
            outline-offset: 2px;
        }
        .comparison-table {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 1px;
            background-color: #e5e7eb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        .comparison-table > div {
            background-color: white;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
        }
        .comparison-table .table-header {
            background-color: #f3f4f6;
            font-weight: 600;
        }
        .comparison-table .feature-name {
            font-weight: 500;
        }
        .comparison-table .check-mark {
            justify-content: center;
            font-size: 1.25rem;
            color: var(--secondary);
        }
        @media (max-width: 640px) {
            .comparison-table {
                grid-template-columns: 1fr;
            }
            .comparison-table .table-header { display: none; }
            .comparison-table > div {
                grid-column: 1 / -1 !important;
                display: grid;
                grid-template-columns: 2fr 1fr;
                gap: 0.5rem;
            }
            .comparison-table > div:not(.feature-cell) {
                border-top: 1px solid #e5e7eb;
                padding-left: 1.5rem;
            }
             .comparison-table .feature-cell {
                grid-column: 1 / -1;
                background-color: #f9fafb;
                font-weight: 600;
                padding-top: 1rem;
            }
            .comparison-table .check-mark::before {
                content: attr(data-label);
                font-size: 0.875rem;
                color: #6b7280;
                font-weight: 400;
                margin-right: auto;
            }
        }
    </style>

    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('consent', 'default', {
            'analytics_storage': 'denied', 'ad_storage': 'denied', 'ad_user_data': 'denied',
            'ad_personalization': 'denied', 'wait_for_update': 500
        });
    </script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-062LYMWJKZ"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-062LYMWJKZ');
    </script>

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "CleaningService",
        "name": "AJK Cleaning Company",
        "description": "Professional residential & commercial cleaning services in Bischofsheim. Eco-friendly products, fully insured, satisfaction guaranteed.",
        "url": "https://www.ajkcleaners.de",
        "logo": "https://www.ajkcleaners.de/images/logo.webp",
        "image": "https://images.unsplash.com/photo-1581578731548-c64695cc6952?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
        "telephone": "+4917661852286",
        "email": "info@ajkcleaning.com",
        "address": {
            "@type": "PostalAddress", "streetAddress": "Bahnhofstraße 5", "addressLocality": "Bischofsheim",
            "postalCode": "65474", "addressCountry": "DE"
        },
        "geo": { "@type": "GeoCoordinates", "latitude": 49.9939, "longitude": 8.3669 },
        "openingHoursSpecification": [{
            "@type": "OpeningHoursSpecification",
            "dayOfWeek": ["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
            "opens": "08:00", "closes": "18:00"
        }],
        "areaServed": {
            "@type": "GeoCircle",
            "geoMidpoint": { "@type": "GeoCoordinates", "latitude": 49.9939, "longitude": 8.3669 },
            "geoRadius": "25000"
        },
        "priceRange": "€€",
        "hasOfferCatalog": {
            "@type": "OfferCatalog", "name": "Cleaning Services",
            "itemListElement": [
                {"@type": "Offer","itemOffered": {"@type": "Service","name": "Residential Cleaning"}},
                {"@type": "Offer","itemOffered": {"@type": "Service","name": "Commercial Cleaning"}},
                {"@type": "Offer","itemOffered": {"@type": "Service","name": "Deep Cleaning"}},
                {"@type": "Offer","itemOffered": {"@type": "Service","name": "Move-In/Move-Out Cleaning"}}
            ]
        },
        "aggregateRating": { "@type": "AggregateRating", "ratingValue": "4.9", "reviewCount": "58" }
    }
    </script>
</head>
<body class="font-sans antialiased text-gray-800">
    <a href="#main-content" class="skip-link" data-translate="skipLink">Skip to main content</a>

    <header id="navbar" class="fixed z-50 w-full transition-all duration-500" role="banner">
        <div class="container flex items-center justify-between px-6 mx-auto">
            <a href="#home" class="flex items-center space-x-3" aria-label="AJK Cleaning Company Home">
                <img src="images/logo.webp" alt="AJK Cleaning Company Logo" class="object-contain w-20 h-20 transition-transform duration-300 rounded-lg sm:h-24 sm:w-24 logo" width="96" height="96" loading="eager" decoding="async">
                <span id="company-name" class="text-lg font-bold transition-colors duration-300 sm:text-xl text-primary" data-translate="companyName">AJK Cleaning Company</span>
            </a>
            
            <nav class="items-center hidden space-x-8 md:flex" aria-label="Main navigation" role="navigation">
                <a href="#home" class="font-medium text-gray-700 nav-link hover:text-primary active" aria-current="page" data-translate="navHome">Home</a>
                <a href="#services" class="font-medium text-gray-700 nav-link hover:text-primary" data-translate="navServices">Services</a>
                <a href="#about" class="font-medium text-gray-700 nav-link hover:text-primary" data-translate="navAbout">About</a>
                <a href="#testimonials" class="font-medium text-gray-700 nav-link hover:text-primary" data-translate="navTestimonials">Testimonials</a>
                <a href="#faq" class="font-medium text-gray-700 nav-link hover:text-primary" data-translate="navFaq">FAQ</a>
                <a href="#contact" class="font-medium text-gray-700 nav-link hover:text-primary" data-translate="navContact">Contact</a>
                <a href="/booking" class="cta-button bg-gradient-to-r from-secondary to-secondary-dark text-white px-5 py-2.5 rounded-lg shadow-md hover:shadow-lg hover:from-secondary-dark hover:to-secondary-dark transition-all duration-300 font-semibold" data-translate="navQuote" aria-label="Book a cleaning service now">Book Now</a>
                <div class="ml-4 lang-switcher">
                    <button data-lang="en" class="lang-option active" title="Switch to English" aria-label="Switch to English">
                        <svg viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg"><clipPath id="a"><path d="m30 15h30v15zm0 0v15h-30zm0 0h-30v-15zm0 0v-15h30z"/></clipPath><path d="m0 0v30h60v-30z" fill="#012169"/><path d="m0 0 60 30m-60 0 60-30" stroke="#fff" stroke-width="6"/><path d="m0 0 60 30m-60 0 60-30" stroke="#c8102e" stroke-width="4" clip-path="url(#a)"/><path d="m30 0v30m-30-15h60" stroke="#fff" stroke-width="10"/><path d="m30 0v30m-30-15h60" stroke="#c8102e" stroke-width="6"/></svg>
                    </button>
                    <button data-lang="de" class="lang-option" title="Switch to German" aria-label="Switch to German">
                        <svg viewBox="0 0 5 3" xmlns="http://www.w3.org/2000/svg"><path d="m0 0h5v3h-5z"/><path d="m0 1h5v2h-5z" fill="#d00"/><path d="m0 2h5v1h-5z" fill="#ffce00"/></svg>
                    </button>
                </div>
            </nav>
            
            <div class="flex items-center py-4 md:hidden">
                <div class="mr-2 lang-switcher">
                    <button data-lang="en" class="lang-option active" title="Switch to English" aria-label="Switch to English">
                        <svg viewBox="0 0 60 30" xmlns="http://www.w3.org/2000/svg"><clipPath id="a-mobile-header"><path d="m30 15h30v15zm0 0v15h-30zm0 0h-30v-15zm0 0v-15h30z"/></clipPath><path d="m0 0v30h60v-30z" fill="#012169"/><path d="m0 0 60 30m-60 0 60-30" stroke="#fff" stroke-width="6"/><path d="m0 0 60 30m-60 0 60-30" stroke="#c8102e" stroke-width="4" clip-path="url(#a-mobile-header)"/><path d="m30 0v30m-30-15h60" stroke="#fff" stroke-width="10"/><path d="m30 0v30m-30-15h60" stroke="#c8102e" stroke-width="6"/></svg>
                    </button>
                    <button data-lang="de" class="lang-option" title="Switch to German" aria-label="Switch to German">
                        <svg viewBox="0 0 5 3" xmlns="http://www.w3.org/2000/svg"><path d="m0 0h5v3h-5z"/><path d="m0 1h5v2h-5z" fill="#d00"/><path d="m0 2h5v1h-5z" fill="#ffce00"/></svg>
                    </button>
                </div>
                <button id="menu-btn" type="button" class="flex flex-col w-8 h-8 justify-center items-center space-y-1.5 focus:outline-none" aria-label="Toggle menu" aria-expanded="false" aria-controls="mobile-menu">
                    <span class="menu-line block w-6 h-0.5 bg-primary"></span>
                    <span class="menu-line block w-6 h-0.5 bg-primary"></span>
                    <span class="menu-line block w-6 h-0.5 bg-primary"></span>
                </button>
            </div>
        </div>
        
        <div id="mobile-menu" class="flex-col px-6 pb-6 space-y-3 bg-white border-t shadow-lg mobile-menu md:hidden" aria-hidden="true" role="navigation" aria-label="Mobile navigation">
            <a href="#home" class="block px-4 py-3 font-medium text-gray-700 transition-colors duration-300 rounded-lg hover:bg-blue-50 hover:text-primary active" aria-current="page" data-translate="navHome">Home</a>
            <a href="#services" class="block px-4 py-3 font-medium text-gray-700 transition-colors duration-300 rounded-lg hover:bg-blue-50 hover:text-primary" data-translate="navServices">Services</a>
            <a href="#about" class="block px-4 py-3 font-medium text-gray-700 transition-colors duration-300 rounded-lg hover:bg-blue-50 hover:text-primary" data-translate="navAbout">About</a>
            <a href="#testimonials" class="block px-4 py-3 font-medium text-gray-700 transition-colors duration-300 rounded-lg hover:bg-blue-50 hover:text-primary" data-translate="navTestimonials">Testimonials</a>
            <a href="#faq" class="block px-4 py-3 font-medium text-gray-700 transition-colors duration-300 rounded-lg hover:bg-blue-50 hover:text-primary" data-translate="navFaq">FAQ</a>
            <a href="#contact" class="block px-4 py-3 font-medium text-gray-700 transition-colors duration-300 rounded-lg hover:bg-blue-50 hover:text-primary" data-translate="navContact">Contact</a>
            <a href="/booking" class="block px-4 py-3 mt-2 font-semibold text-center text-white transition-colors duration-300 rounded-lg cta-button bg-gradient-to-r from-secondary to-secondary-dark hover:shadow-md" data-translate="navQuote" aria-label="Book a cleaning service now">Book Now</a>
        </div>
    </header>

    <!-- Skip Navigation Links for Accessibility -->
    <div class="skip-links">
        <a href="#main-content" class="skip-link">Skip to main content</a>
        <a href="#services" class="skip-link">Skip to services</a>
        <a href="#contact" class="skip-link">Skip to contact</a>
        <a href="#footer" class="skip-link">Skip to footer</a>
    </div>

    <main>
        <section id="home" class="relative flex items-center justify-center min-h-screen pt-16 text-center text-white hero-image" role="banner" aria-labelledby="hero-heading">
            <div class="absolute inset-0 hero-overlay"></div>
            <div id="main-content" class="relative z-10 max-w-4xl px-6 animate-fade-in-up">
                <h1 id="hero-heading" class="mb-4 text-4xl font-bold leading-tight sm:text-5xl md:text-6xl" data-translate="heroTitle">Professioneller Reinigungsservice Deutschland - AJK Cleaning in Bischofsheim</h1>
                <p class="mb-8 text-lg md:text-xl" data-translate="heroSubtitle">Wohnungsreinigung, Büroreinigung & Gewerbereinigung mit ökologischen Produkten. Versichert, zufriedenheitsgarantie. Bischofsheim, Mainz, Wiesbaden & Umgebung.</p>
                <div class="inline-block p-2 mb-6 font-semibold text-white rounded-lg bg-white/20 backdrop-blur-sm">
                    Next available slot: <span class="font-bold text-yellow-300">This Friday!</span>
                </div>
                <div class="flex flex-col items-center justify-center gap-4">
                    <div class="flex flex-col items-center justify-center gap-4 sm:flex-row">
                        <a href="/booking" class="inline-flex items-center px-8 py-4 text-lg font-semibold text-white transition-all duration-300 rounded-lg shadow-lg bg-primary hover:bg-primary-dark animate-pulse-shadow" data-translate="heroBtnBookNow">
                            Book Now <i class="ml-3 fas fa-calendar-check"></i>
                        </a>
                        <a href="#services" class="px-6 py-3 font-semibold text-white transition-colors duration-300 rounded-lg shadow bg-white/20 backdrop-blur-sm hover:bg-white/30" data-translate="heroBtnServices">Our Services</a>
                    </div>
                    <a href="#contact" class="px-6 py-3 font-semibold text-white transition-colors duration-300 rounded-lg shadow bg-secondary hover:bg-secondary-dark" data-translate="ctaQuote">Get Quote</a>
                </div>
            </div>
            <a href="#offer" class="absolute transform -translate-x-1/2 bottom-8 left-1/2 animate-bounce" aria-label="Scroll to next section">
                <i class="text-2xl text-white fas fa-chevron-down"></i>
            </a>
        </section>

        <section id="offer" class="py-4 text-center text-white bg-secondary">
            <div class="container px-6 mx-auto">
                <p class="text-lg font-semibold animate-fade-in-up">
                    <i class="mr-2 fas fa-tag"></i> Limited Time Offer: Get 15% Off Your First Cleaning! <a href="#contact" class="ml-2 underline hover:text-yellow-300">Claim Offer</a>
                </p>
            </div>
        </section>

        <section id="trust" class="py-12 bg-white">
            <div class="container px-6 mx-auto text-center">
                 <h2 class="mb-8 text-2xl font-bold text-primary animate-fade-in-up" data-translate="trustTitle">Trusted By Your Neighbors & Fully Certified</h2>
                <div class="grid items-center max-w-4xl grid-cols-1 gap-8 mx-auto sm:grid-cols-3">
                    <div class="flex flex-col items-center text-gray-700 animate-fade-in-up" style="animation-delay: 0.2s;">
                        <i class="mb-2 text-4xl fas fa-leaf text-secondary"></i>
                        <span class="font-semibold" data-translate="trustEco">Eco-Friendly</span>
                    </div>
                    <div class="flex flex-col items-center text-gray-700 animate-fade-in-up" style="animation-delay: 0.3s;">
                        <i class="mb-2 text-4xl text-yellow-400 fas fa-star"></i>
                        <span class="font-semibold" data-translate="trustRated">5-Star Rated</span>
                    </div>
                    <div class="flex flex-col items-center text-gray-700 animate-fade-in-up" style="animation-delay: 0.4s;">
                        <i class="mb-2 text-4xl fas fa-thumbs-up text-primary"></i>
                        <span class="font-semibold" data-translate="trustGuaranteed">Satisfaction Guaranteed</span>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="services" class="py-16 bg-gray-50" aria-labelledby="services-heading">
            <div class="container px-6 mx-auto text-center">
                <h2 id="services-heading" class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="servicesTitle">Professionelle Reinigungsdienstleistungen - Wohnung & Büro</h2>
                <p class="max-w-2xl mx-auto mb-12 text-gray-600 animate-fade-in-up" style="animation-delay: 0.2s;" data-translate="servicesSubtitle">Umfassende Reinigungsservices für Wohnungen, Büros und Gewerbe. Spezialisiert auf ökologische Reinigung in Bischofsheim, Mainz, Wiesbaden und Umgebung.</p>
                <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-4">
                    <article class="relative flex flex-col justify-between p-6 bg-white shadow-md service-card rounded-xl animate-fade-in-up" style="animation-delay: 0.3s;">
                        <div>
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-100 to-blue-200" aria-hidden="true"><i class="text-2xl fas fa-home text-primary"></i></div>
                            <h3 class="mb-2 text-lg font-bold" data-translate="service1Title">Wohnungsreinigung</h3>
                            <p class="mb-4 text-sm text-gray-600" data-translate="service1Desc">Professionelle Haushaltsreinigung mit ökologischen Produkten für Ihr Zuhause.</p>
                        </div>
                        <div class="mt-4">
                             <a href="#comparison" class="inline-flex items-center mb-3 font-medium text-primary hover:underline" data-translate="serviceLearnMore">Learn More <i class="ml-2 text-xs fas fa-arrow-right" aria-hidden="true"></i></a>
                            <button class="w-full px-4 py-2 font-semibold transition-colors bg-blue-100 rounded-lg get-checklist-btn text-primary hover:bg-blue-200" data-service="Residential Cleaning" data-translate="serviceBtnChecklist">✨ Get Cleaning Checklist</button>
                        </div>
                    </article>
                    <article class="relative flex flex-col justify-between p-6 bg-white shadow-md service-card rounded-xl animate-fade-in-up" style="animation-delay: 0.4s;">
                        <div>
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-100 to-blue-200" aria-hidden="true"><i class="text-2xl fas fa-building text-primary"></i></div>
                            <h3 class="mb-2 text-lg font-bold" data-translate="service2Title">Büroreinigung</h3>
                            <p class="mb-4 text-sm text-gray-600" data-translate="service2Desc">Professionelle Büroreinigung und Gewerbereinigung für Unternehmen aller Größen.</p>
                        </div>
                        <div class="mt-4">
                            <a href="#contact" class="inline-flex items-center mb-3 font-medium text-primary hover:underline" data-translate="serviceLearnMore">Learn More <i class="ml-2 text-xs fas fa-arrow-right" aria-hidden="true"></i></a>
                            <button class="w-full px-4 py-2 font-semibold transition-colors bg-blue-100 rounded-lg get-checklist-btn text-primary hover:bg-blue-200" data-service="Commercial Cleaning" data-translate="serviceBtnChecklist">✨ Get Cleaning Checklist</button>
                        </div>
                    </article>
                    <article class="relative flex flex-col justify-between p-6 bg-white shadow-md service-card rounded-xl animate-fade-in-up" style="animation-delay: 0.5s;">
                        <div>
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-100 to-blue-200" aria-hidden="true"><i class="text-2xl fas fa-broom text-primary"></i></div>
                            <h3 class="mb-2 text-lg font-bold" data-translate="service3Title">Grundreinigung</h3>
                            <p class="mb-4 text-sm text-gray-600" data-translate="service3Desc">Intensive Reinigung für einen frischen und gesunden Raum.</p>
                        </div>
                        <div class="mt-4">
                            <a href="#comparison" class="inline-flex items-center mb-3 font-medium text-primary hover:underline" data-translate="serviceLearnMore">Learn More <i class="ml-2 text-xs fas fa-arrow-right" aria-hidden="true"></i></a>
                            <button class="w-full px-4 py-2 font-semibold transition-colors bg-blue-100 rounded-lg get-checklist-btn text-primary hover:bg-blue-200" data-service="Deep Cleaning" data-translate="serviceBtnChecklist">✨ Get Cleaning Checklist</button>
                        </div>
                    </article>
                    <article class="relative flex flex-col justify-between p-6 bg-white shadow-md service-card rounded-xl animate-fade-in-up" style="animation-delay: 0.6s;">
                        <div>
                            <div class="flex items-center justify-center w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-blue-100 to-blue-200" aria-hidden="true"><i class="text-2xl fas fa-truck-moving text-primary"></i></div>
                            <h3 class="mb-2 text-lg font-bold" data-translate="service4Title">Umzugsreinigung</h3>
                            <p class="mb-4 text-sm text-gray-600" data-translate="service4Desc">Professionelle Reinigung für Ein- und Auszug - starten Sie frisch in Ihrem neuen Zuhause.</p>
                        </div>
                        <div class="mt-4">
                            <a href="#comparison" class="inline-flex items-center mb-3 font-medium text-primary hover:underline" data-translate="serviceLearnMore">Learn More <i class="ml-2 text-xs fas fa-arrow-right" aria-hidden="true"></i></a>
                            <button class="w-full px-4 py-2 font-semibold transition-colors bg-blue-100 rounded-lg get-checklist-btn text-primary hover:bg-blue-200" data-service="Move-In/Move-Out" data-translate="serviceBtnChecklist">✨ Get Cleaning Checklist</button>
                        </div>
                    </article>
                </div>
            </div>
        </section>

        <section id="how-it-works" class="py-16 bg-white" aria-labelledby="how-it-works-heading">
            <div class="container px-6 mx-auto text-center">
                <h2 id="how-it-works-heading" class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="howitworksTitle">Our Simple 3-Step Process</h2>
                <p class="max-w-2xl mx-auto mb-12 text-gray-600 animate-fade-in-up" style="animation-delay: 0.2s;" data-translate="howitworksSubtitle">Getting your space professionally cleaned has never been easier.</p>
                <div class="grid max-w-5xl gap-8 mx-auto md:grid-cols-3">
                    <!-- Step 1 -->
                    <div class="flex flex-col items-center animate-fade-in-up" style="animation-delay: 0.3s;">
                        <div class="flex items-center justify-center w-20 h-20 mb-4 text-3xl font-bold bg-blue-100 rounded-full text-primary">1</div>
                        <h3 class="mb-2 text-xl font-bold" data-translate="howitworksStep1Title">Request a Quote</h3>
                        <p class="text-gray-600" data-translate="howitworksStep1Desc">Fill out our quick contact form or give us a call to tell us about your cleaning needs.</p>
                    </div>
                    <!-- Step 2 -->
                    <div class="flex flex-col items-center animate-fade-in-up" style="animation-delay: 0.4s;">
                         <div class="flex items-center justify-center w-20 h-20 mb-4 text-3xl font-bold bg-blue-100 rounded-full text-primary">2</div>
                        <h3 class="mb-2 text-xl font-bold" data-translate="howitworksStep2Title">We Clean Your Space</h3>
                        <p class="text-gray-600" data-translate="howitworksStep2Desc">Our professional, vetted team arrives on time with eco-friendly supplies to make your home sparkle.</p>
                    </div>
                    <!-- Step 3 -->
                    <div class="flex flex-col items-center animate-fade-in-up" style="animation-delay: 0.5s;">
                         <div class="flex items-center justify-center w-20 h-20 mb-4 text-3xl font-bold bg-blue-100 rounded-full text-primary">3</div>
                        <h3 class="mb-2 text-xl font-bold" data-translate="howitworksStep3Title">Enjoy the Freshness</h3>
                        <p class="text-gray-600" data-translate="howitworksStep3Desc">Come back to a spotless, fresh-smelling space and enjoy your free time.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="comparison" class="py-16 bg-gray-50" aria-labelledby="comparison-heading">
            <div class="container px-6 mx-auto">
                 <div class="max-w-3xl mx-auto text-center">
                    <h2 id="comparison-heading" class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="comparisonTitle">Compare Our Cleaning Packages</h2>
                    <p class="mb-12 text-gray-600 animate-fade-in-up" style="animation-delay: 0.2s;" data-translate="comparisonSubtitle">Find the perfect service for your needs. Contact us for a custom quote for commercial spaces.</p>
                </div>

                <div class="max-w-5xl mx-auto comparison-table animate-fade-in-up" style="animation-delay: 0.3s;">
                    <!-- Headers -->
                    <div class="table-header feature-name" data-translate="comparisonHeaderFeature">Feature</div>
                    <div class="table-header" data-translate="service1Title">Residential Cleaning</div>
                    <div class="table-header" data-translate="service3Title">Deep Cleaning</div>
                    <div class="table-header" data-translate="service4Title">Move-In/Move-Out</div>

                    <!-- Row 1 -->
                    <div class="feature-cell feature-name" data-translate="featureDust">Dust all surfaces</div>
                    <div class="check-mark" data-label="Residential">✓</div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>

                    <!-- Row 2 -->
                    <div class="feature-cell feature-name" data-translate="featureVacuum">Vacuum & Mop Floors</div>
                    <div class="check-mark" data-label="Residential">✓</div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>
                    
                    <!-- Row 3 -->
                    <div class="feature-cell feature-name" data-translate="featureWipeKitchen">Wipe Kitchen Counters</div>
                    <div class="check-mark" data-label="Residential">✓</div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>

                    <!-- Row 4 -->
                    <div class="feature-cell feature-name" data-translate="featureCleanBathrooms">Clean & Sanitize Bathrooms</div>
                    <div class="check-mark" data-label="Residential">✓</div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>

                     <!-- Row 5 -->
                    <div class="feature-cell feature-name" data-translate="featureBaseboards">Wipe Skirting Boards</div>
                    <div class="check-mark" data-label="Residential"></div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>
                    
                    <!-- Row 6 -->
                    <div class="feature-cell feature-name" data-translate="featureAppliances">Clean Appliance Exteriors</div>
                    <div class="check-mark" data-label="Residential">✓</div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>

                    <!-- Row 7 -->
                    <div class="feature-cell feature-name" data-translate="featureOven">Clean Inside Oven</div>
                    <div class="check-mark" data-label="Residential"></div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>

                    <!-- Row 8 -->
                    <div class="feature-cell feature-name" data-translate="featureFridge">Clean Inside Fridge</div>
                    <div class="check-mark" data-label="Residential"></div>
                    <div class="check-mark" data-label="Deep">✓</div>
                    <div class="check-mark" data-label="Move-Out">✓</div>

                     <!-- Row 9 -->
                    <div class="feature-cell feature-name" data-translate="featureCabinets">Clean Inside Cabinets</div>
                    <div class="check-mark" data-label="Residential"></div>
                    <div class="check-mark" data-label="Deep"></div>
                    <div class="check-mark" data-label="Move-Out">✓</div>
                </div>

            </div>
        </section>
        
        <section id="service-area" class="py-16 bg-white" aria-labelledby="area-heading">
             <div class="container px-6 mx-auto">
                <div class="grid items-center gap-12 md:grid-cols-2">
                    <div class="animate-fade-in-up">
                         <h2 id="area-heading" class="mb-4 text-3xl font-bold text-primary" data-translate="areaTitle">Proudly Serving the Rhine-Main Area</h2>
                         <p class="mb-6 text-gray-700" data-translate="areaSubtitle">We provide reliable, high-quality cleaning services to homes and businesses in the following areas:</p>
                         <ul class="grid grid-cols-2 gap-2 text-gray-700">
                             <li class="flex items-center"><i class="mr-2 fas fa-map-marker-alt text-secondary"></i>Bischofsheim</li>
                             <li class="flex items-center"><i class="mr-2 fas fa-map-marker-alt text-secondary"></i>Mainz</li>
                             <li class="flex items-center"><i class="mr-2 fas fa-map-marker-alt text-secondary"></i>Wiesbaden</li>
                             <li class="flex items-center"><i class="mr-2 fas fa-map-marker-alt text-secondary"></i>Ginsheim-Gustavsburg</li>
                             <li class="flex items-center"><i class="mr-2 fas fa-map-marker-alt text-secondary"></i>Rüsselsheim</li>
                             <li class="flex items-center"><i class="mr-2 fas fa-map-marker-alt text-secondary"></i>And surrounding areas!</li>
                         </ul>
                         <p class="mt-4 text-sm text-gray-500">Including ZIP codes: 65474, 55116-55131, 65183-65207, and more.</p>
                    </div>
                     <div class="overflow-hidden shadow-lg animate-fade-in-up rounded-xl" style="animation-delay: 0.2s;">
                        <iframe 
                            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d164160.0388909893!2d8.140733519398858!3d50.0213192453508!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47bd9a250c6f5d87%3A0x422d4d510db1ba0!2sMainz!5e0!3m2!1sen!2sde!4v1664456345678!5m2!1sen!2sde" 
                            width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy" 
                            referrerpolicy="no-referrer-when-downgrade" onerror="console.warn('Google Maps iframe blocked by ad blocker')"
                            title="Service area map for AJK Cleaning including Mainz, Wiesbaden, and Bischofsheim">
                        </iframe>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="py-16 bg-gray-50" aria-labelledby="about-heading">
            <div class="container px-6 mx-auto">
                <div class="grid items-center gap-12 md:grid-cols-2">
                    <div>
                        <h2 id="about-heading" class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="aboutTitle">Warum AJK Cleaning wählen? - Professioneller Reinigungsservice Deutschland</h2>
                        <p class="mb-6 text-gray-700 animate-fade-in-up" style="animation-delay: 0.2s;" data-translate="aboutP1">AJK Cleaning ist Ihr vertrauensvoller Partner für professionelle Reinigungsdienstleistungen in Deutschland. Wir bieten Wohnungsreinigung, Büroreinigung und Gewerbereinigung mit ökologischen Produkten und höchsten Qualitätsstandards.</p>
                        <p class="mb-6 text-gray-700 animate-fade-in-up" style="animation-delay: 0.3s;" data-translate="aboutP2">Seit 2022 sind wir einer der führenden Reinigungsservices in Bischofsheim, Mainz, Wiesbaden und Umgebung. Hunderte zufriedene Kunden vertrauen auf unsere professionelle Reinigung.</p>
                        <div class="mt-8 space-y-4">
                            <div class="flex items-center p-4 rounded-lg trust-point animate-fade-in-up" style="animation-delay: 0.4s;"><i class="w-8 text-xl text-center fas fa-shield-alt text-primary" aria-hidden="true"></i><span class="ml-3 font-medium text-gray-700" data-translate="aboutPoint1">Fully Insured & Bonded</span></div>
                            <div class="flex items-center p-4 rounded-lg trust-point animate-fade-in-up" style="animation-delay: 0.5s;"><i class="w-8 text-xl text-center text-green-600 fas fa-leaf" aria-hidden="true"></i><span class="ml-3 font-medium text-gray-700" data-translate="aboutPoint2">Eco-Friendly Products</span></div>
                            <div class="flex items-center p-4 rounded-lg trust-point animate-fade-in-up" style="animation-delay: 0.6s;"><i class="w-8 text-xl text-center fas fa-user-check text-primary" aria-hidden="true"></i><span class="ml-3 font-medium text-gray-700" data-translate="aboutPoint3">Trained Professionals</span></div>
                            <div class="flex items-center p-4 rounded-lg trust-point animate-fade-in-up" style="animation-delay: 0.7s;"><i class="w-8 text-xl text-center text-green-600 fas fa-thumbs-up" aria-hidden="true"></i><span class="ml-3 font-medium text-gray-700" data-translate="aboutPoint4">Satisfaction Guaranteed</span></div>
                        </div>
                    </div>
                    <div class="animate-fade-in-up" style="animation-delay: 0.8s;">
                        <img src="https://images.unsplash.com/photo-1606813907291-d86efa9b94db?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80" alt="Professional cleaning team working together" class="shadow-lg rounded-xl" width="600" height="400" loading="lazy" decoding="async">
                    </div>
                </div>
            </div>
        </section>

        <section id="testimonials" class="py-16 bg-white">
            <div class="container px-6 mx-auto text-center">
                <h2 class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="testimonialsTitle">What Our Customers Say</h2>
                <p class="max-w-2xl mx-auto mb-6 text-gray-600 animate-fade-in-up" style="animation-delay: 0.1s;" data-translate="testimonialsSubtitle">We're proud of our 5-star reputation. Here's what some of our clients have to say.</p>
                <div class="flex items-center justify-center gap-2 mb-12 animate-fade-in-up" style="animation-delay: 0.2s;">
                      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Google_%22G%22_logo.svg/24px-Google_%22G%22_logo.svg.png" alt="Google Logo" class="h-6" width="24" height="24" loading="lazy" decoding="async">
                      <span class="text-lg font-semibold text-gray-700">Google Rating</span>
                      <div class="flex items-center text-yellow-500 stars">
                          <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i>
                      </div>
                      <span class="font-bold text-gray-800">4.9</span>
                      <span class="text-gray-500">(58 reviews)</span>
                </div>

                <!-- Dynamic Reviews Container -->
                <div id="reviews-container" class="grid gap-8 mt-8 md:grid-cols-3">
                    <!-- Reviews will be loaded here dynamically -->
                </div>
                
                <!-- Loading State -->
                <div id="reviews-loading" class="py-8 text-center">
                    <div class="inline-flex items-center gap-2 text-gray-600">
                        <i class="fas fa-spinner fa-spin"></i>
                        <span>Loading reviews...</span>
                    </div>
                </div>
                
                <!-- No Reviews State -->
                <div id="no-reviews" class="py-12 text-center" style="display: none;">
                    <div class="max-w-md mx-auto">
                        <i class="mb-4 text-4xl text-gray-300 fas fa-star"></i>
                        <h3 class="mb-2 text-xl font-semibold text-gray-700">No Reviews Yet</h3>
                        <p class="text-gray-600">Be the first to share your experience with AJK Cleaning!</p>
                    </div>
                </div>
                
                <!-- Submit Review Button -->
                <div class="mt-16 text-center">
                    <button id="submit-review-btn" class="btn btn-primary" style="background-color: #1e40af; color: white; padding: 12px 24px; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s ease; display: inline-flex; align-items: center; gap: 8px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);" onmouseover="this.style.backgroundColor='#1e3a8a'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 12px rgba(0, 0, 0, 0.15)'" onmouseout="this.style.backgroundColor='#1e40af'; this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 6px rgba(0, 0, 0, 0.1)'">
                        <i class="mr-2 fas fa-star"></i>
                        <span data-translate="submitReviewBtn">Submit Your Review</span>
                    </button>
                </div>
            </div>
        </section>


        <section id="faq" class="py-16 bg-gray-50" aria-labelledby="faq-heading">
            <div class="container px-6 mx-auto">
                <div class="max-w-3xl mx-auto text-center">
                    <h2 id="faq-heading" class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="faqTitle">Frequently Asked Questions</h2>
                    <p class="mb-12 text-gray-600 animate-fade-in-up" style="animation-delay: 0.2s;" data-translate="faqSubtitle">Have questions? We have answers. Here are some common queries we receive from our clients in the Bischofsheim area.</p>
                </div>
                <div class="max-w-3xl mx-auto space-y-4" id="faq-container"></div>
            </div>
        </section>

        <section id="calculator" class="py-16 bg-white" aria-labelledby="calculator-heading">
            <div class="container max-w-3xl px-6 mx-auto">
                 <div class="p-8 text-center bg-white border border-gray-100 shadow-lg rounded-xl animate-fade-in-up">
                      <h2 id="calculator-heading" class="mb-2 text-3xl font-bold text-primary" data-translate="calculatorTitle">Get an Instant Estimate</h2>
                      <p class="mb-8 text-gray-600" data-translate="calculatorSubtitle">This is an estimate only. A final quote will be provided after consultation.</p>
                      
                      <div class="space-y-6 text-left">
                            <div>
                                <label for="calc-service" class="font-semibold text-gray-700">Service Type</label>
                                <select id="calc-service" class="w-full p-3 mt-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                      <option value="200" data-type="residential" data-translate="service1Title">Residential Cleaning</option>
                                      <option value="300" data-type="commercial" data-translate="service2Title">Commercial Cleaning</option>
                                      <option value="350" data-type="deep-residential" data-translate="service3Title">Deep Cleaning</option>
                                      <option value="250" data-type="residential" data-translate="service4Title">Move-In/Move-Out</option>
                                </select>
                            </div>
                            
                            <div id="residential-inputs">
                                <div class="space-y-6">
                                    <div>
                                        <div class="flex items-center justify-between mb-2">
                                            <label for="calc-bedrooms" class="font-semibold text-gray-700">Bedrooms</label>
                                            <span id="bedrooms-value" class="px-3 py-1 text-sm font-bold bg-blue-100 rounded-full text-primary">3</span>
                                        </div>
                                        <input type="range" id="calc-bedrooms" min="1" max="6" value="3" class="w-full styled-slider">
                                    </div>
                                    <div>
                                        <div class="flex items-center justify-between mb-2">
                                            <label for="calc-bathrooms" class="font-semibold text-gray-700">Bathrooms</label>
                                            <span id="bathrooms-value" class="px-3 py-1 text-sm font-bold bg-blue-100 rounded-full text-primary">2</span>
                                        </div>
                                        <input type="range" id="calc-bathrooms" min="1" max="4" value="2" class="w-full styled-slider">
                                    </div>
                                </div>
                            </div>

                            <div id="commercial-inputs" class="hidden">
                                <div class="space-y-6">
                                    <div>
                                        <div class="flex items-center justify-between mb-2">
                                            <label for="calc-sqm" class="font-semibold text-gray-700">Area (m²)</label>
                                            <span id="sqm-value" class="px-3 py-1 text-sm font-bold bg-blue-100 rounded-full text-primary">100</span>
                                        </div>
                                        <input type="range" id="calc-sqm" min="20" max="500" value="100" step="10" class="w-full styled-slider">
                                    </div>
                                    <div>
                                         <label for="calc-frequency" class="font-semibold text-gray-700">Cleaning Frequency</label>
                                         <select id="calc-frequency" class="w-full p-3 mt-2 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                              <option value="1.0">One Time</option>
                                              <option value="0.85">Weekly</option>
                                              <option value="0.90">Bi-Weekly</option>
                                              <option value="0.95">Monthly</option>
                                         </select>
                                    </div>
                                </div>
                            </div>
                      </div>
                      
                      <div class="mt-8 text-center">
                          <p class="text-2xl font-bold text-gray-800" data-translate="calculatorResultTitle">Estimated Price:</p>
                          <p id="estimate-result" class="mt-2 text-4xl font-bold text-secondary">€250 - €300</p>
                          <p class="mt-2 text-sm text-gray-500" data-translate="calculatorResultSubtitle">Based on a one-time cleaning</p>
                      </div>
                 </div>
            </div>
        </section>
        
        <section id="ai-tips" class="py-16 bg-gray-50" aria-labelledby="tip-heading">
            <div class="container px-6 mx-auto">
                <div class="max-w-3xl p-8 mx-auto text-center bg-white border border-gray-100 shadow-lg rounded-xl">
                    <h2 id="tip-heading" class="mb-4 text-3xl font-bold text-primary animate-fade-in-up" data-translate="tipTitle">✨ Get a Pro Cleaning Tip</h2>
                    <p class="mb-6 text-gray-600 animate-fade-in-up" style="animation-delay: 0.2s;" data-translate="tipSubtitle">Stuck on a tough cleaning problem? Let our AI expert help you out!</p>
                    <div class="grid gap-4 mb-4 sm:grid-cols-2 animate-fade-in-up" style="animation-delay: 0.3s;">
                        <div>
                            <label for="tip-room" class="sr-only" data-translate="tipRoomLabel">Select a Room</label>
                            <select id="tip-room" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option data-translate="tipRoomKitchen">Kitchen</option> <option data-translate="tipRoomBathroom">Bathroom</option>
                                <option data-translate="tipRoomLiving">Living Room</option> <option data-translate="tipRoomBedroom">Bedroom</option>
                            </select>
                        </div>
                        <div>
                            <label for="tip-challenge" class="sr-only" data-translate="tipChallengeLabel">Select a Challenge</label>
                            <select id="tip-challenge" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                <option data-translate="tipChallengeGrime">Everyday Grime</option> <option data-translate="tipChallengeGrease">Tough Grease</option>
                                <option data-translate="tipChallengeLimescale">Limescale & Hard Water</option> <option data-translate="tipChallengeDust">Dust & Allergens</option>
                                <option data-translate="tipChallengePet">Pet Messes</option>
                            </select>
                        </div>
                    </div>
                    <button id="generate-tip-btn" class="w-full px-6 py-3 text-white transition-colors duration-300 rounded-lg shadow bg-secondary hover:bg-secondary-dark sm:w-auto animate-fade-in-up" style="animation-delay: 0.4s;" data-translate="tipBtnGenerate">Generate Tip</button>
                    <div id="tip-result-container" class="hidden p-6 mt-6 text-left border border-blue-200 rounded-lg opacity-0 bg-blue-50 animate-fade-in-up">
                        <div id="tip-result-loader" class="flex items-center justify-center"><div class="loader"></div></div>
                        <p id="tip-result-text" class="text-gray-800"></p>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="py-16 bg-white" aria-labelledby="contact-heading">
            <div class="container grid gap-12 px-6 mx-auto md:grid-cols-2">
                <div class="animate-fade-in-up">
                    <h2 id="contact-heading" class="mb-4 text-3xl font-bold text-primary" data-translate="contactTitle">Get In Touch</h2>
                    <p class="mb-6 text-gray-700" data-translate="contactSubtitle">We're here to answer any questions. Reach out for a free, no-obligation quote for your cleaning needs in Bischofsheim.</p>
                    <div class="space-y-3">
                        <p class="flex items-center"><i class="w-5 mr-3 fas fa-phone text-primary" aria-hidden="true"></i> <a href="tel:+4917661852286" class="hover:underline">+49 176 61852286</a></p>
                        <p class="flex items-center"><i class="w-5 mr-3 fas fa-envelope text-primary" aria-hidden="true"></i> <a href="mailto:info@ajkcleaners.de" class="hover:underline">info@ajkcleaners.de</a></p>
                        <p class="flex items-center"><i class="w-5 mr-3 fas fa-map-marker-alt text-primary" aria-hidden="true"></i><a href="https://maps.app.goo.gl/95dKa1nL9D2gZ7947" target="_blank" rel="noopener noreferrer">Bahnhofstraße 5, 65474 Bischofsheim, Germany</a></p>
                        <p class="flex items-center"><i class="w-5 mr-3 fas fa-clock text-primary" aria-hidden="true"></i> <span data-translate="contactHours">Mon - Sat: 8:00am - 6:00pm</span></p>
                    </div>
                    <div class="mt-6 overflow-hidden border rounded-lg shadow-md">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3333.3437002182854!2d8.356986576530165!3d49.99001767150799!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47bd99f5e82f18e9%3A0x40cfb0ac711244f6!2sAJK%20Cleaning%20Service!5e1!3m2!1sen!2snp!4v1758990313764!5m2!1sen!2snp" width="100%" height="300" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade" title="AJK Cleaning Company Location Map"></iframe>
                    </div>
                </div>
                <div class="p-8 bg-white border border-gray-100 shadow-lg rounded-xl animate-fade-in-up" style="animation-delay: 0.2s;">
                    <h3 class="mb-2 text-2xl font-bold text-primary" data-translate="formTitle">Request Your Free Quote</h3>
                    <div class="mb-6 text-sm font-semibold text-center text-secondary"><i class="fas fa-fire"></i> Booked 3 times this week!</div>
                    <form id="contact-form" class="space-y-4" novalidate role="form" aria-label="Contact form">
                        <div class="grid gap-4 sm:grid-cols-2">
                            <div>
                                <label for="name" class="block mb-1 text-sm font-medium text-gray-700">Name *</label>
                                <input type="text" id="name" name="name" placeholder="Enter your full name" class="w-full p-3 border rounded-lg form-input focus:ring-2 focus:ring-primary focus:border-transparent" required aria-required="true" aria-describedby="name-error" data-translate-placeholder="formName">
                                <div id="name-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                            </div>
                             <div>
                                <label for="phone" class="block mb-1 text-sm font-medium text-gray-700">Phone *</label>
                                <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" class="w-full p-3 border rounded-lg form-input focus:ring-2 focus:ring-primary focus:border-transparent" required aria-required="true" aria-describedby="phone-error" data-translate-placeholder="formPhone">
                                <div id="phone-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block mb-1 text-sm font-medium text-gray-700">Email (Optional)</label>
                            <input type="email" id="email" name="email" placeholder="Enter your email address" class="w-full p-3 border rounded-lg form-input focus:ring-2 focus:ring-primary focus:border-transparent" aria-describedby="email-error" data-translate-placeholder="formEmail">
                            <div id="email-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                        </div>
                        <div>
                            <label for="service" class="block mb-1 text-sm font-medium text-gray-700" data-translate="formServiceLabel">Select a Service</label>
                            <select id="service" name="service" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" aria-describedby="service-error" required aria-required="true">
                                <option value="" disabled selected data-translate="formServiceSelect">Select a Service</option>
                                <option value="Residential Cleaning" data-translate="service1Title">Residential Cleaning</option>
                                <option value="Commercial Cleaning" data-translate="service2Title">Commercial Cleaning</option>
                                <option value="Deep Cleaning" data-translate="service3Title">Deep Cleaning</option>
                                <option value="Move-In/Move-Out Cleaning" data-translate="service4Title">Move-In/Move-Out</option>
                            </select>
                            <div id="service-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                        </div>
                        <div class="grid gap-4 sm:grid-cols-2">
                            <div>
                                <label for="preferred-date" class="block mb-1 text-sm font-medium text-gray-700">Preferred Date</label>
                                <input type="date" id="preferred-date" name="preferred_date" class="w-full p-3 border rounded-lg form-input focus:ring-2 focus:ring-primary focus:border-transparent" aria-describedby="date-error">
                                <div id="date-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                            </div>
                             <div>
                                <label for="preferred-time" class="block mb-1 text-sm font-medium text-gray-700">Preferred Time</label>
                                 <select id="preferred-time" name="preferred_time" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" aria-describedby="time-error">
                                      <option value="">Select Time</option>
                                      <option value="Morning (8am-12pm)">Morning (8am-12pm)</option> 
                                      <option value="Afternoon (12pm-4pm)">Afternoon (12pm-4pm)</option> 
                                      <option value="Flexible">Flexible</option>
                                 </select>
                                 <div id="time-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                            </div>
                        </div>
                        <div>
                            <label for="message" class="block mb-1 text-sm font-medium text-gray-700">Message *</label>
                            <textarea id="message" name="message" placeholder="Tell us about your cleaning needs..." rows="4" class="w-full p-3 border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent" required aria-required="true" aria-describedby="message-error char-counter" data-translate-placeholder="formMessage" minlength="10" maxlength="1000"></textarea>
                            <div class="flex items-center justify-between mt-2">
                                <span class="text-sm text-gray-500">Required</span>
                                <span id="char-counter" class="text-sm text-gray-500" aria-live="polite">0 / 1000</span>
                            </div>
                            <div id="message-error" class="mt-1 text-sm text-red-600 error-message" role="alert" aria-live="polite"></div>
                        </div>
                        <button type="submit" id="submit-btn" class="w-full px-6 py-3 font-semibold text-white transition-colors duration-300 rounded-lg shadow bg-secondary hover:bg-secondary-dark focus:ring-2 focus:ring-secondary focus:ring-offset-2" aria-describedby="form-error">
                            <span id="submit-text" data-translate="formBtnSubmit">Submit Request</span>
                            <span id="submit-loading" class="hidden" data-translate="formBtnSending">Sending...</span>
                        </button>
                        <div id="form-error" class="hidden p-3 mt-4 text-red-700 bg-red-100 rounded-lg" role="alert" aria-live="assertive"></div>
                        <div id="form-success" class="hidden p-3 mt-4 text-green-700 bg-green-100 rounded-lg" role="alert" data-translate="formSuccess">Thank you! We'll be in touch soon.</div>
                        
                        <div class="relative flex !my-6 items-center">
                            <div class="flex-grow border-t border-gray-300"></div>
                            <span class="flex-shrink mx-4 text-xs text-gray-500 uppercase">Or</span>
                            <div class="flex-grow border-t border-gray-300"></div>
                        </div>

                        <a href="/booking" class="animated-border-button">
                            Book Now
                        </a>
                    </form>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="py-12 text-white bg-primary" role="contentinfo">
        <div class="container grid gap-8 px-6 mx-auto md:grid-cols-4">
            <div>
                <h4 class="mb-4 text-xl font-bold" data-translate="companyName">AJK Cleaning Company</h4>
                <p class="text-gray-200" data-translate="footerDesc">Premium Cleaning Solutions for Homes and Offices in Bischofsheim</p>
            </div>
            <div>
                <h4 class="mb-4 text-lg font-bold" data-translate="footerLinksTitle">Quick Links</h4>
                <ul class="space-y-2">
                    <li><a href="#home" class="text-gray-200 transition-colors hover:text-white" data-translate="navHome">Home</a></li>
                    <li><a href="#services" class="text-gray-200 transition-colors hover:text-white" data-translate="navServices">Services</a></li>
                    <li><a href="#about" class="text-gray-200 transition-colors hover:text-white" data-translate="navAbout">About</a></li>
                    <li><a href="#testimonials" class="text-gray-200 transition-colors hover:text-white" data-translate="navTestimonials">Testimonials</a></li>
                    <li><a href="#faq" class="text-gray-200 transition-colors hover:text-white" data-translate="navFaq">FAQ</a></li>
                    <li><a href="#contact" class="text-gray-200 transition-colors hover:text-white" data-translate="navContact">Contact</a></li>
                </ul>
            </div>
            <div>
                <h4 class="mb-4 text-lg font-bold" data-translate="footerServicesTitle">Our Services</h4>
                <ul class="space-y-2">
                    <li><a href="#services" class="text-gray-200 transition-colors hover:text-white" data-translate="service1Title">Residential Cleaning</a></li>
                    <li><a href="#services" class="text-gray-200 transition-colors hover:text-white" data-translate="service2Title">Commercial Cleaning</a></li>
                    <li><a href="#services" class="text-gray-200 transition-colors hover:text-white" data-translate="service3Title">Deep Cleaning</a></li>
                </ul>
            </div>
            <div>
                <h4 class="mb-4 text-lg font-bold" data-translate="footerFollowTitle">Follow Us</h4>
                <div class="flex space-x-4">
                    <a href="https://www.facebook.com/ajkcleaning" class="flex items-center justify-center w-10 h-10 transition-colors rounded-full bg-white/10 hover:bg-white/20" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                    <a href="https://www.instagram.com/ajkcleaning" class="flex items-center justify-center w-10 h-10 transition-colors rounded-full bg-white/10 hover:bg-white/20" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div class="pt-6 mt-8 text-sm text-center text-gray-200 border-t border-gray-600">
             <a href="/impressum" class="hover:text-white" data-translate="footerImpressum">Impressum</a> | 
             <a href="/datenschutz" class="hover:text-white" data-translate="footerPrivacy">Data Protection</a>
        </div>
        <div class="pt-4 mt-4 text-sm text-center text-gray-200">
            © <span id="copyright-year">2025</span> <span data-translate="companyName">AJK Cleaning Company</span>. <span data-translate="footerRights">All rights reserved.</span>
        </div>
    </footer>

    <div class="fixed bottom-0 left-0 right-0 z-50 flex items-center justify-around p-3 bg-white shadow-lg sticky-cta md:hidden">
        <a href="tel:+4917661852286" class="flex items-center px-4 py-2 font-semibold text-center text-primary" data-translate="ctaCall">
            <i class="mr-2 fas fa-phone" aria-hidden="true"></i> Call Now
        </a>
        <a href="#contact" class="px-4 py-2 font-semibold text-center text-white rounded-lg bg-secondary" data-translate="ctaQuote">Get Quote</a>
    </div>
    
    <div id="chat-widget-enhanced" class="chat-widget-enhanced">
        <button class="chat-toggle" id="chat-toggle-enhanced" type="button" aria-label="Toggle chat">
            <div class="chat-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg></div>
            <div class="unread-badge" id="unread-badge" style="display:none;" aria-hidden="true">0</div>
        </button>
        <div class="chat-window" id="chat-window-enhanced">
            <div class="chat-header">
                <button class="close-btn" id="close-chat" type="button" aria-label="Close chat">×</button>
                <div class="chat-header-info">
                    <h3 id="chat-header-title">AJK AI Assistant ✨</h3>
                    <div class="chat-status" id="chat-status">
                        <span id="status-text"></span>
                        <div class="chat-mode-indicator" id="chat-mode-indicator">
                            <span class="mode-badge ai-mode" id="mode-badge">
                                <i class="fas fa-robot"></i> AI Assistant
                            </span>
                        </div>
                    </div>
                </div>
                <div class="chat-header-actions">
                    <button class="chat-action-btn" id="human-handoff-btn" type="button" title="Click to talk to a real person for booking help, pricing questions, or urgent matters" aria-label="Switch to Human Support">
                        <i class="fas fa-user"></i>
                        <span class="btn-text">Talk to Human</span>
                    </button>
                </div>
            </div>
            
            <!-- AI to Human Switch Notification -->
            <div class="chat-switch-notification" id="chat-switch-notification" style="display: none;">
                <div class="switch-notification-content">
                    <div class="switch-notification-icon">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <div class="switch-notification-text">
                        <h4>Need to Talk to a Real Person?</h4>
                        <p>Our AI assistant can help with general questions, but for specific booking issues, pricing questions, or urgent matters, click the "Human" button above to connect with our live support team.</p>
                    </div>
                    <button class="switch-to-human-btn" id="switch-to-human-btn">
                        <i class="fas fa-user"></i>
                        Talk to Human
                    </button>
                </div>
                <button class="switch-notification-close" id="switch-notification-close">×</button>
            </div>
            <div class="chat-messages" id="chat-messages"></div>
            <div class="typing-indicator" id="typing-indicator">
                <div class="typing-dots"><span></span><span></span><span></span></div>
                <span class="typing-text" id="typing-text">Alex is typing...</span>
            </div>
            <div class="chat-input-container">
                <div class="user-info" id="user-info">
                    <input type="text" id="user-name" placeholder="Your name" maxlength="50" required>
                    <input type="email" id="user-email" placeholder="Your email (optional)" maxlength="100">
                    <button id="save-user-info" type="button">Start Chat</button>
                </div>
                <div class="chat-input-area" id="chat-input-area" style="display: none;">
                    <input type="text" id="chat-input-enhanced" placeholder="Ask Alex a question..." maxlength="500" aria-label="Message input">
                    <button id="chat-send-enhanced" type="button" aria-label="Send message"><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 20 20" fill="currentColor"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" /></svg></button>
                </div>
            </div>
        </div>
    </div>

    <div id="checklist-modal" class="fixed inset-0 bg-black bg-opacity-50 items-center justify-center p-4 z-[2000] hidden opacity-0">
        <div id="checklist-modal-content" class="bg-white rounded-lg shadow-2xl p-6 w-full max-w-lg max-h-[90vh] flex flex-col transform scale-95">
            <div class="flex items-center justify-between pb-3 mb-4 border-b">
                <h2 id="checklist-modal-title" class="text-xl font-bold text-primary">Cleaning Checklist</h2>
                <button id="checklist-modal-close" class="text-2xl text-gray-500 hover:text-gray-800">×</button>
            </div>
            <div id="checklist-modal-body" class="flex-grow overflow-y-auto">
                <div id="checklist-loader" class="flex items-center justify-center py-10"><div class="loader"></div></div>
                <div id="checklist-content" class="hidden prose"></div>
                <div id="checklist-error" class="hidden p-4 text-red-600 bg-red-100 rounded-lg"></div>
            </div>
            <div class="flex items-center justify-end pt-4 mt-4 space-x-3 border-t">
                <button id="checklist-modal-download" class="hidden px-4 py-2 font-semibold text-white transition-colors rounded-lg bg-secondary hover:bg-secondary-dark" data-translate="modalDownload">Download</button>
                <button id="checklist-modal-close-bottom" class="px-4 py-2 font-semibold text-gray-800 transition-colors bg-gray-200 rounded-lg hover:bg-gray-300" data-translate="modalClose">Close</button>
            </div>
        </div>
    </div>

    <!-- Review Submission Modal -->
    <div id="review-modal" class="modal" style="display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); backdrop-filter: blur(4px);">
        <div class="modal-content" style="background-color: white; margin: 2% auto; padding: 0; border-radius: 16px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto; box-shadow: 0 20px 40px rgba(0,0,0,0.15); animation: modalSlideIn 0.3s ease-out;">
            <div class="modal-header" style="background: linear-gradient(135deg, #1e40af, #1e3a8a); color: white; padding: 24px; border-radius: 16px 16px 0 0; display: flex; justify-content: space-between; align-items: center;">
                <h3 style="margin: 0; font-size: 1.5rem; font-weight: 700; display: flex; align-items: center; gap: 8px;">
                    <i class="fas fa-star" style="color: #fbbf24;"></i>
                    Submit Your Review
                </h3>
                <span class="close" id="close-review-modal" style="color: white; font-size: 28px; font-weight: bold; cursor: pointer; transition: opacity 0.3s; padding: 4px 8px; border-radius: 50%; background: rgba(255,255,255,0.1);">&times;</span>
            </div>
            <div class="modal-body" style="padding: 32px;">
                <form id="review-form">
                    <div class="form-group" style="margin-bottom: 24px;">
                        <label for="review-customer-name" style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Your Name *</label>
                        <input type="text" id="review-customer-name" name="customerName" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; box-sizing: border-box;" onfocus="this.style.borderColor='#1e40af'" onblur="this.style.borderColor='#e5e7eb'">
                    </div>
                    <div class="form-group" style="margin-bottom: 24px;">
                        <label for="review-customer-email" style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Your Email *</label>
                        <input type="email" id="review-customer-email" name="customerEmail" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; transition: border-color 0.3s; box-sizing: border-box;" onfocus="this.style.borderColor='#1e40af'" onblur="this.style.borderColor='#e5e7eb'">
                    </div>
                    <div class="form-group" style="margin-bottom: 24px;">
                        <label for="review-service-type" style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Service Type</label>
                        <select id="review-service-type" name="serviceType" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; background-color: white; transition: border-color 0.3s; box-sizing: border-box;" onfocus="this.style.borderColor='#1e40af'" onblur="this.style.borderColor='#e5e7eb'">
                            <option value="Residential Cleaning">Residential Cleaning</option>
                            <option value="Commercial Cleaning">Commercial Cleaning</option>
                            <option value="Deep Cleaning">Deep Cleaning</option>
                            <option value="Move In/Out Cleaning">Move In/Out Cleaning</option>
                            <option value="General Cleaning">General Cleaning</option>
                        </select>
                    </div>
                    <div class="form-group" style="margin-bottom: 24px;">
                        <label for="review-rating" style="display: block; margin-bottom: 12px; font-weight: 600; color: #374151;">Rating *</label>
                        <div class="rating-input" style="display: flex; gap: 8px; justify-content: center;">
                            <input type="radio" id="star5" name="rating" value="5" style="display: none;">
                            <label for="star5" style="font-size: 32px; color: #d1d5db; cursor: pointer; transition: color 0.2s; user-select: none;">★</label>
                            <input type="radio" id="star4" name="rating" value="4" style="display: none;">
                            <label for="star4" style="font-size: 32px; color: #d1d5db; cursor: pointer; transition: color 0.2s; user-select: none;">★</label>
                            <input type="radio" id="star3" name="rating" value="3" style="display: none;">
                            <label for="star3" style="font-size: 32px; color: #d1d5db; cursor: pointer; transition: color 0.2s; user-select: none;">★</label>
                            <input type="radio" id="star2" name="rating" value="2" style="display: none;">
                            <label for="star2" style="font-size: 32px; color: #d1d5db; cursor: pointer; transition: color 0.2s; user-select: none;">★</label>
                            <input type="radio" id="star1" name="rating" value="1" style="display: none;">
                            <label for="star1" style="font-size: 32px; color: #d1d5db; cursor: pointer; transition: color 0.2s; user-select: none;">★</label>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 24px;">
                        <label for="review-text" style="display: block; margin-bottom: 8px; font-weight: 600; color: #374151;">Your Review * (Max 135 characters)</label>
                        <textarea id="review-text" name="reviewText" rows="5" required placeholder="Tell us about your experience..." maxlength="135" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; resize: vertical; transition: border-color 0.3s; box-sizing: border-box; font-family: inherit;" onfocus="this.style.borderColor='#1e40af'" onblur="this.style.borderColor='#e5e7eb'" oninput="updateCharacterCount(this)"></textarea>
                        <div id="character-count" style="text-align: right; font-size: 12px; color: #6b7280; margin-top: 4px;">0/135 characters</div>
                    </div>
                    <div class="form-group" style="margin-bottom: 32px;">
                        <label style="display: flex; align-items: center; gap: 8px; cursor: pointer; font-weight: 500; color: #374151;">
                            <input type="checkbox" name="isPublic" checked style="width: 18px; height: 18px; accent-color: #1e40af;">
                            Make this review public on our website
                        </label>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="padding: 24px 32px; background-color: #f9fafb; border-radius: 0 0 16px 16px; display: flex; gap: 12px; justify-content: flex-end;">
                <button type="button" class="btn btn-secondary" id="cancel-review" style="padding: 12px 24px; border: 2px solid #d1d5db; background-color: white; color: #374151; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;">Cancel</button>
                <button type="button" class="btn btn-primary" id="submit-review" style="padding: 12px 24px; background-color: #1e40af; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.3s;">Submit Review</button>
            </div>
        </div>
    </div>
    
    <style>
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: translateY(-50px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .rating-input input[type="radio"]:checked ~ label,
        .rating-input label:hover,
        .rating-input label:hover ~ label {
            color: #fbbf24 !important;
        }
        
        .rating-input input[type="radio"]:checked ~ label {
            color: #fbbf24 !important;
        }
        
        .modal-footer button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }
        
        .modal-footer .btn-secondary:hover {
            background-color: #f3f4f6;
            border-color: #9ca3af;
        }
        
        .modal-footer .btn-primary:hover {
            background-color: #1e3a8a;
        }
        
        @media (max-width: 768px) {
            .modal-content {
                width: 95% !important;
                margin: 5% auto !important;
            }
            
            .modal-body {
                padding: 24px !important;
            }
            
            .modal-footer {
                padding: 20px 24px !important;
                flex-direction: column;
            }
            
            .modal-footer button {
                width: 100%;
            }
        }
    </style>
    
    <!-- Tailwind config is now in tailwind.config.js and compiled to output.css -->

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Fetch CSRF token from server
        async function fetchCSRFToken() {
            try {
                const response = await fetch('/api/csrf-token', {
                    method: 'GET',
                    credentials: 'include', // Include cookies for session
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    const csrfMeta = document.querySelector('meta[name="csrf-token"]');
                    if (csrfMeta) {
                        csrfMeta.setAttribute('content', data.csrfToken);
                        console.log('✅ CSRF token updated successfully');
                    }
                } else {
                    console.warn('CSRF token fetch failed:', response.status, response.statusText);
                }
            } catch (error) {
                console.warn('Could not fetch CSRF token:', error);
                // Fallback: try to get token from meta tag if already set
                const csrfMeta = document.querySelector('meta[name="csrf-token"]');
                if (csrfMeta && csrfMeta.getAttribute('content')) {
                    console.log('Using existing CSRF token from meta tag');
                }
            }
        }
        
        // Fetch CSRF token on page load
        fetchCSRFToken();
        
        // Also fetch CSRF token when the page becomes visible (for tab switching)
        document.addEventListener('visibilitychange', function() {
            if (!document.hidden) {
                fetchCSRFToken();
            }
        });
        
        // Helper function to get CSRF token for form submissions
        function getCSRFToken() {
            const csrfMeta = document.querySelector('meta[name="csrf-token"]');
            return csrfMeta ? csrfMeta.getAttribute('content') : null;
        }
        
        // --- Modern Toast Notifications ---
        function showToast(message, type = 'info') {
            // Remove existing toasts
            const existingToasts = document.querySelectorAll('.toast');
            existingToasts.forEach(toast => toast.remove());
            
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                padding: 16px 24px;
                border-radius: 12px;
                color: white;
                font-weight: 600;
                font-size: 14px;
                max-width: 400px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.2);
                transform: translateX(100%);
                transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                backdrop-filter: blur(10px);
                border: 1px solid rgba(255,255,255,0.2);
                display: flex;
                align-items: center;
                gap: 12px;
            `;
            
            // Set colors based on type
            const colors = {
                success: 'linear-gradient(135deg, #10b981, #059669)',
                error: 'linear-gradient(135deg, #ef4444, #dc2626)',
                warning: 'linear-gradient(135deg, #f59e0b, #d97706)',
                info: 'linear-gradient(135deg, #3b82f6, #2563eb)'
            };
            
            toast.style.background = colors[type] || colors.info;
            
            // Add icon
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            toast.innerHTML = `
                <i class="${icons[type] || icons.info}" style="font-size: 18px;"></i>
                <span>${message}</span>
                <button onclick="this.parentElement.remove()" style="
                    background: rgba(255,255,255,0.2);
                    border: none;
                    color: white;
                    border-radius: 50%;
                    width: 24px;
                    height: 24px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    margin-left: auto;
                    font-size: 12px;
                ">×</button>
            `;
            
            document.body.appendChild(toast);
            
            // Animate in
            setTimeout(() => {
                toast.style.transform = 'translateX(0)';
            }, 10);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                if (toast.parentElement) {
                    toast.style.transform = 'translateX(100%)';
                    setTimeout(() => toast.remove(), 300);
                }
            }, 5000);
        }
        
        // --- Gemini API Proxy ---
        const callGeminiAPI = async (chatHistory, systemInstruction) => {
            const apiUrl = '/api/gemini';
            const payload = { contents: chatHistory };
            if (systemInstruction) {
                payload.systemInstruction = { parts: [{ text: systemInstruction }] };
            }
            try {
                const csrfToken = getCSRFToken();
                const response = await fetch(apiUrl, {
                    method: 'POST', 
                    headers: { 
                        'Content-Type': 'application/json',
                        'X-CSRF-Token': csrfToken || ''
                    },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                if (!response.ok) {
                    const errorMessage = result?.error?.message || `API error: ${response.status}`;
                    throw new Error(errorMessage);
                }
                const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                if (!text) {
                    const finishReason = result.candidates?.[0]?.finishReason;
                    if (finishReason && finishReason !== 'STOP') {
                         throw new Error(`The AI could not generate a response due to: ${finishReason}. Please try rephrasing your request.`);
                    }
                    throw new Error("No content received from AI.");
                }
                return text;
            } catch (error) {
                console.error('Error calling server-side Gemini proxy:', error);
                throw error;
            }
        };
        
        // =================================================================
        // CHAT MANAGER CLASS
        // =================================================================
        class ChatManager {
            constructor() {
                this.isOpen = false;
                this.chatHistory = []; // For AI
                this.isTyping = false;
                this.userName = localStorage.getItem('chatUserName') || 'Guest';
                this.ws = null;
                this.clientId = localStorage.getItem('chatClientId') || `client_${Date.now()}${Math.random().toString(36).substring(2, 9)}`;
                localStorage.setItem('chatClientId', this.clientId);
                
                const savedMode = localStorage.getItem('chatMode');
                if (savedMode === 'live') {
                    this.isAiActive = false;
                    this.isLiveChatActive = true;
                } else {
                    this.isAiActive = true;
                    this.isLiveChatActive = false;
                }
                this.init();
            }

            init() { this.attachEventListeners(); }

            attachEventListeners() {
                document.getElementById('chat-toggle-enhanced').addEventListener('click', () => this.toggleChat());
                document.getElementById('chat-send-enhanced').addEventListener('click', () => this.sendMessage());
                document.getElementById('chat-input-enhanced').addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) { e.preventDefault(); this.sendMessage(); }
                });
                document.getElementById('close-chat').addEventListener('click', () => this.closeChat());
                document.getElementById('save-user-info').addEventListener('click', () => this.saveUserInfo());
                document.getElementById('human-handoff-btn').addEventListener('click', () => this.requestHumanHandoff());
                document.getElementById('switch-to-human-btn').addEventListener('click', () => this.requestHumanHandoff());
                document.getElementById('switch-notification-close').addEventListener('click', () => this.hideSwitchNotification());
            }

            connect() {
                if (this.ws && this.ws.readyState === WebSocket.OPEN) { return; }
                const isProduction = window.location.hostname === 'ajkcleaners.de';
                const protocol = (window.location.protocol === 'https' || isProduction) ? 'wss' : 'ws';
                const wsUrl = `${protocol}://${window.location.host}?clientId=${this.clientId}`;
                this.ws = new WebSocket(wsUrl);
                this.ws.onopen = () => {
                    console.log('✅ WebSocket connection established');
                    document.getElementById('status-text').textContent = 'Connected to support';
                    this.displayMessage('You are connected to live support.', 'system', 'System');
                    this.sendIdentification();
                };
                this.ws.onmessage = (event) => {
                    try {
                        const data = JSON.parse(event.data);
                        switch(data.type) {
                            case 'chat': this.displayMessage(data.message, data.isAdmin ? 'admin' : 'user', data.name); break;
                            case 'history':
                                document.getElementById('chat-messages').innerHTML = '';
                                data.messages.forEach(msg => { this.displayMessage(msg.message, msg.isAdmin ? 'admin' : 'user', msg.isAdmin ? 'Support' : this.userName); });
                                this.scrollToBottom();
                                break;
                            case 'system': this.displayMessage(data.message, 'system', 'System'); break;
                            case 'chat_reset': this.handleChatReset(); break;
                        }
                    } catch (error) { console.error("Error parsing incoming WebSocket message:", error); }
                };
                this.ws.onerror = (error) => {
                    console.error('❌ WebSocket connection failed:', error);
                    this.displayMessage('Connection error. Please try refreshing the page or contact us directly at info@ajkcleaners.de', 'system', 'System');
                };
                this.ws.onclose = () => {
                    if (this.isLiveChatActive) {
                        this.displayMessage('You have been disconnected.', 'system', 'System');
                        document.getElementById('chat-header-title').textContent = 'Live Chat - Disconnected';
                    }
                    this.ws = null;
                };
            }

            handleChatReset() {
                this.displayMessage('The chat session has been reset by an admin.', 'system', 'System');
                localStorage.setItem('chatMode', 'ai'); 
                this.isAiActive = true;
                this.isLiveChatActive = false;
                document.getElementById('human-handoff-btn').disabled = false;
                document.getElementById('chat-header-title').textContent = 'AJK AI Assistant ✨';
                if (this.ws && this.ws.readyState === WebSocket.OPEN) { this.ws.close(); }
                setTimeout(() => {
                     document.getElementById('chat-messages').innerHTML = '';
                     this.chatHistory = [];
                     const welcomeMessage = "Hello! I'm Alex, the AI assistant for AJK Cleaning. How can I help you today?";
                     this.chatHistory.push({ role: 'model', parts: [{ text: welcomeMessage }]});
                     this.displayMessage(this.markdownToHtml(welcomeMessage), 'admin', 'Alex', true);
                }, 1000);
            }

            sendIdentification() {
                if (this.ws && this.ws.readyState === WebSocket.OPEN) {
                    this.ws.send(JSON.stringify({
                        type: 'identify', name: this.userName,
                        email: document.getElementById('user-email').value || ''
                    }));
                }
            }
            
            markdownToHtml(markdown) {
                 if (!markdown) return '';
                 return markdown
                       .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>').replace(/\*(.*?)\*/g, '<em>$1</em>')
                       .replace(/\[(.*?)\]\((.*?)\)/g, '<a href="$2" target="_blank" rel="noopener noreferrer">$1</a>')
                       .split('\n').map(line => line.trim()).filter(line => line)
                       .map(line => {
                           if (line.startsWith('## ')) return `<h4>${line.substring(3)}</h4>`;
                           if (line.startsWith('# ')) return `<h3>${line.substring(2)}</h3>`;
                           if (line.startsWith('* ') || line.startsWith('- ')) return `<li>${line.substring(2)}</li>`;
                           return `<p>${line}</p>`;
                       }).join('').replace(/<li>/g, '<ul><li>').replace(/(<\/li>(?!<li>))/g, '</li></ul>').replace(/<\/ul><ul>/g, '');
            }
            
            toggleChat() { this.isOpen ? this.closeChat() : this.openChat(); }

            openChat() {
                const chatWindow = document.getElementById('chat-window-enhanced');
                chatWindow.style.display = 'flex';
                setTimeout(() => chatWindow.classList.add('open'), 10);
                this.isOpen = true;
                if (this.userName === 'Guest') {
                    document.getElementById('user-info').style.display = 'flex';
                    document.getElementById('chat-input-area').style.display = 'none';
                } else {
                    document.getElementById('user-info').style.display = 'none';
                    document.getElementById('chat-input-area').style.display = 'flex';
                }
                if (this.isLiveChatActive) {
                    document.getElementById('chat-header-title').textContent = 'Live Chat with Support';
                    document.getElementById('human-handoff-btn').disabled = true;
                    document.getElementById('status-text').textContent = 'Connected to human agent';
                    document.getElementById('mode-badge').innerHTML = '<i class="fas fa-user"></i> Human Support';
                    document.getElementById('mode-badge').className = 'mode-badge human-mode';
                    this.connect(); 
                } else if (this.isAiActive && this.chatHistory.length === 0) {
                    const welcomeMessage = "Hello! I'm Alex, the AI assistant for AJK Cleaning. How can I help you today? You can ask me about our services, service areas, or for cleaning tips! 😊";
                    this.chatHistory.push({ role: 'model', parts: [{ text: welcomeMessage }]});
                    this.displayMessage(this.markdownToHtml(welcomeMessage), 'admin', 'Alex', true);
                }
                
                // Show switch notification after 2 AI interactions for better user experience
                if (this.isAiActive && this.chatHistory.length >= 4) { // 2 user + 2 AI messages
                    setTimeout(() => {
                        this.showSwitchNotification();
                        // Highlight the human button to draw attention
                        const humanBtn = document.getElementById('human-handoff-btn');
                        if (humanBtn) {
                            humanBtn.classList.add('highlight');
                            setTimeout(() => {
                                humanBtn.classList.remove('highlight');
                            }, 5000);
                        }
                    }, 2000);
                }
                this.scrollToBottom();
            }

            closeChat() {
                const chatWindow = document.getElementById('chat-window-enhanced');
                chatWindow.classList.remove('open');
                setTimeout(() => { chatWindow.style.display = 'none'; }, 300);
                this.isOpen = false;
            }

            async sendMessage() {
                const chatInput = document.getElementById('chat-input-enhanced');
                const messageText = chatInput.value.trim();
                if (!messageText || this.isTyping) return;
                this.isTyping = true;
                chatInput.value = '';
                this.displayMessage(messageText, 'user', this.userName);
                const sendButton = document.getElementById('chat-send-enhanced');
                chatInput.disabled = true;
                if (sendButton) sendButton.disabled = true;
                if (this.isAiActive) {
                    this.chatHistory.push({ role: 'user', parts: [{ text: messageText }] });
                    this.showTypingIndicator(true, 'Alex');
                    try {
                        const systemInstruction = `You are "Alex", a friendly and helpful AI assistant for AJK Cleaning Company, a professional cleaning service in Bischofsheim, Germany. Your goal is to answer user questions accurately based on the company information and encourage them to get a quote. **Company Information:** - **Name:** AJK Cleaning Company - **Services:** Residential Cleaning, Commercial Cleaning, Deep Cleaning, Move-In/Move-Out Cleaning. - **Service Area:** Bischofsheim, Ginsheim-Gustavsburg, Mainz, Wiesbaden, and surrounding areas within a 25km radius. - **Key Features:** Fully insured and bonded, uses eco-friendly products, satisfaction guaranteed, trained professionals. - **Contact:** Phone: +49 176 61852286, Email: info@ajkcleaners.de - **Hours:** Monday - Saturday, 8:00am - 6:00pm. - **Pricing:** You cannot give exact prices. For quotes, you MUST direct users to the contact form or phone number. **Your Persona & Rules:** 1. Be friendly, polite, and professional. Use emojis where appropriate. 2. Keep your answers concise and easy to understand (under 70 words). 3. Base your answers ONLY on the information provided. 4. If asked for information not listed, politely state that you don't have that detail and provide the company's contact info. 5. Format responses with Markdown (bolding, lists).`;
                        const botResponse = await callGeminiAPI(this.chatHistory, systemInstruction);
                        this.chatHistory.push({ role: 'model', parts: [{ text: botResponse }] });
                        this.displayMessage(this.markdownToHtml(botResponse), 'admin', 'Alex', true);
                    } catch (error) {
                        this.displayMessage(`Sorry, I'm having trouble connecting. Error: ${error.message}`, 'admin', 'Alex');
                    } finally {
                        this.isTyping = false; this.showTypingIndicator(false);
                        chatInput.disabled = false; if (sendButton) sendButton.disabled = false;
                        chatInput.focus();
                    }
                } else if (this.isLiveChatActive) {
                     if (this.ws && this.ws.readyState === WebSocket.OPEN) {
                        this.ws.send(JSON.stringify({ type: 'chat', message: messageText }));
                    } else { this.displayMessage('Not connected to live chat. Please wait or refresh.', 'system', 'System'); }
                    this.isTyping = false; chatInput.disabled = false;
                    if (sendButton) sendButton.disabled = false; chatInput.focus();
                }
            }

            requestHumanHandoff() {
                if (this.isLiveChatActive) return; 
                this.isAiActive = false; this.isLiveChatActive = true;
                localStorage.setItem('chatMode', 'live'); 
                document.getElementById('human-handoff-btn').disabled = true;
                document.getElementById('chat-header-title').textContent = 'Live Chat with Support';
                document.getElementById('status-text').textContent = 'Connecting to human agent...';
                document.getElementById('mode-badge').innerHTML = '<i class="fas fa-user"></i> Human Support';
                document.getElementById('mode-badge').className = 'mode-badge human-mode';
                this.hideSwitchNotification();
                this.displayMessage("You're being connected to a human agent. Please wait.", 'system', 'System');
                this.connectWithRetry(); 
            }

            connectWithRetry() {
                let attempts = 0;
                const maxAttempts = 3;
                const retryDelay = 2000; // 2 seconds

                const tryConnect = () => {
                    attempts++;
                    console.log(`🔄 Attempting WebSocket connection (${attempts}/${maxAttempts})`);
                    
                    this.connect();
                    
                    // Check if connection was successful after a short delay
                    setTimeout(() => {
                        if (!this.ws || this.ws.readyState !== WebSocket.OPEN) {
                            if (attempts < maxAttempts) {
                                console.log(`⚠️ Connection failed, retrying in ${retryDelay}ms...`);
                                this.displayMessage(`Connection attempt ${attempts} failed. Retrying...`, 'system', 'System');
                                setTimeout(tryConnect, retryDelay);
                            } else {
                                console.error('❌ All connection attempts failed');
                                this.displayMessage('Unable to connect to live support. Please try again later or contact us directly at info@ajkcleaners.de', 'system', 'System');
                                document.getElementById('status-text').textContent = 'Connection failed';
                            }
                        } else {
                            console.log('✅ WebSocket connection successful');
                        }
                    }, 1000);
                };

                tryConnect();
            }
            
            showSwitchNotification() {
                const notification = document.getElementById('chat-switch-notification');
                if (notification && this.isAiActive) {
                    notification.style.display = 'block';
                    // Auto-hide after 15 seconds to give users more time
                    setTimeout(() => {
                        this.hideSwitchNotification();
                    }, 15000);
                }
            }
            
            hideSwitchNotification() {
                const notification = document.getElementById('chat-switch-notification');
                if (notification) {
                    notification.style.display = 'none';
                }
            }

            displayMessage(text, type, sender, isHtml = false) {
                const messagesContainer = document.getElementById('chat-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${type}-message`;
                const content = isHtml ? text : this.escapeHtml(text);
                const proseClass = (type === 'admin' && isHtml) ? 'prose' : '';
                messageDiv.innerHTML = `<div class="message-content ${proseClass}">${content}</div><div class="message-time">${new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })} • ${sender}</div>`;
                messagesContainer.appendChild(messageDiv);
                this.scrollToBottom();
            }
            
            showTypingIndicator(show, agentName = 'Support') {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    document.getElementById('typing-text').textContent = `${agentName} is typing...`;
                    indicator.style.display = show ? 'flex' : 'none';
                    this.scrollToBottom();
                }
            }

            scrollToBottom() {
                const el = document.getElementById('chat-messages');
                if (el) el.scrollTop = el.scrollHeight;
            }

            saveUserInfo() {
                const nameInput = document.getElementById('user-name');
                const emailInput = document.getElementById('user-email');
                const name = nameInput.value.trim();
                const email = emailInput.value.trim();
                if (!name) { nameInput.style.borderColor = '#ef4444'; return; }
                this.userName = name;
                localStorage.setItem('chatUserName', name);
                if(email) localStorage.setItem('chatUserEmail', email);
                document.getElementById('user-info').style.display = 'none';
                document.getElementById('chat-input-area').style.display = 'flex';
                document.getElementById('chat-input-enhanced').focus();
            }

            escapeHtml(text) { 
                const d = document.createElement('div'); d.textContent = text; return d.innerHTML; 
            }
        }
        
        const chatManager = new ChatManager();
        
        // --- Reviews System ---
        function openReviewModal() {
            const modal = document.getElementById('review-modal');
            // Lock background scroll (mobile-friendly) and preserve position
            const body = document.body;
            const root = document.documentElement;
            const scrollY = window.scrollY || window.pageYOffset;
            const isMobile = window.matchMedia && window.matchMedia('(max-width: 768px)').matches;

            if (isMobile) {
                // Simpler, more compatible locking on mobile (iOS Safari)
                root.style.overflow = 'hidden';
                body.style.overflow = 'hidden';
                body.removeAttribute('data-modal-scrollY');
                body.style.position = '';
                body.style.top = '';
                body.style.left = '';
                body.style.right = '';
                body.style.width = '';
            } else {
                // Desktop/tablet: use position lock for perfect scroll restoration
                body.setAttribute('data-modal-scrollY', String(scrollY));
                body.style.position = 'fixed';
                body.style.top = `-${scrollY}px`;
                body.style.left = '0';
                body.style.right = '0';
                body.style.width = '100%';
                root.style.overflow = 'hidden';
            }

            // Show modal (flex centers content) and ensure its own scroll starts at top
            modal.style.display = 'flex';
            modal.style.alignItems = 'center';
            modal.style.justifyContent = 'center';
            modal.style.zIndex = '9999';
            // Improve iOS scroll behavior
            modal.style.webkitOverflowScrolling = 'touch';
            modal.scrollTop = 0;
            const modalContent = modal.querySelector('.modal-content');
            if (modalContent) {
                // Ensure content is brought into view on mobile
                modalContent.setAttribute('tabindex', '-1');
                modalContent.focus({ preventScroll: true });
                modalContent.scrollTop = 0;
                // In case the browser doesn't respect scrollTop on focused element
                modalContent.scrollIntoView({ block: 'center', inline: 'nearest' });
                // Force a reflow to fix some mobile browsers not rendering children immediately
                void modalContent.offsetHeight;
                modalContent.style.webkitOverflowScrolling = 'touch';
            }
        }

        function closeReviewModal() {
            const modal = document.getElementById('review-modal');
            const body = document.body;
            const root = document.documentElement;
            modal.style.display = 'none';
            modal.style.alignItems = '';
            modal.style.justifyContent = '';
            modal.style.zIndex = '';
            document.getElementById('review-form').reset();

            // Restore background scroll position
            const storedYAttr = body.getAttribute('data-modal-scrollY');
            const storedY = storedYAttr ? parseInt(storedYAttr, 10) : null;
            // Always clear overflow lock
            root.style.overflow = '';
            body.style.overflow = '';
            if (body.style.position === 'fixed' && storedY !== null) {
                body.style.position = '';
                body.style.top = '';
                body.style.left = '';
                body.style.right = '';
                body.style.width = '';
                body.removeAttribute('data-modal-scrollY');
                window.scrollTo(0, storedY || 0);
            }
        }

        async function submitReview() {
            const form = document.getElementById('review-form');
            const formData = new FormData(form);
            const submitBtn = document.getElementById('submit-review');
            const originalBtnText = submitBtn.innerHTML;
            
            const reviewData = {
                customerName: formData.get('customerName'),
                customerEmail: formData.get('customerEmail'),
                serviceType: formData.get('serviceType'),
                rating: parseInt(formData.get('rating')),
                reviewText: formData.get('reviewText'),
                isPublic: formData.get('isPublic') === 'on'
            };

            if (!reviewData.customerName || !reviewData.customerEmail || !reviewData.rating || !reviewData.reviewText) {
                showToast('Please fill in all required fields', 'error');
                return;
            }

            // Show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="mr-2 fas fa-spinner fa-spin"></i>Submitting...';
            submitBtn.style.opacity = '0.7';

            try {
                // Get CSRF token from meta tag
                let csrfToken = document.querySelector('meta[name="csrf-token"]')?.getAttribute('content');
                
                // If no CSRF token, fetch it first
                if (!csrfToken) {
                    try {
                        console.log('🔄 Fetching CSRF token for review submission...');
                        const tokenResponse = await fetch('/api/csrf-token', {
                            method: 'GET',
                            credentials: 'include',
                            headers: {
                                'Accept': 'application/json',
                                'Content-Type': 'application/json'
                            }
                        });
                        
                        if (tokenResponse.ok) {
                            const tokenData = await tokenResponse.json();
                            csrfToken = tokenData.csrfToken;
                            console.log('✅ CSRF token fetched:', csrfToken ? `${csrfToken.substring(0, 8)}...` : 'none');
                            
                            // Update the meta tag for future use
                            const csrfMeta = document.querySelector('meta[name="csrf-token"]');
                            if (csrfMeta) {
                                csrfMeta.setAttribute('content', csrfToken);
                            }
                        } else {
                            console.error('❌ Failed to fetch CSRF token:', tokenResponse.status, tokenResponse.statusText);
                        }
                    } catch (tokenError) {
                        console.warn('Could not fetch CSRF token:', tokenError);
                    }
                } else {
                    console.log('✅ Using existing CSRF token:', csrfToken ? `${csrfToken.substring(0, 8)}...` : 'none');
                }
                
                console.log('📤 Submitting review with CSRF token:', csrfToken ? `${csrfToken.substring(0, 8)}...` : 'none');
                
                const response = await fetch('/api/reviews', {
                    method: 'POST',
                    credentials: 'include', // Important for session cookies
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRF-Token': csrfToken || ''
                    },
                    body: JSON.stringify(reviewData)
                });

                if (response.ok) {
                    showToast('Thank you for your review! It will be published after admin approval.', 'success');
                    closeReviewModal();
                } else {
                    const error = await response.json();
                    showToast('Error submitting review: ' + error.error, 'error');
                }
            } catch (error) {
                console.error('Error submitting review:', error);
                showToast('Error submitting review. Please try again.', 'error');
            } finally {
                // Restore button state
                submitBtn.disabled = false;
                submitBtn.innerHTML = originalBtnText;
                submitBtn.style.opacity = '1';
            }
        }

        // --- Character Count for Review Text ---
        function updateCharacterCount(textarea) {
            console.log('updateCharacterCount called with:', textarea.value.length, 'characters');
            const count = textarea.value.length;
            const countElement = document.getElementById('character-count');
            console.log('Character count element found:', !!countElement);
            if (countElement) {
                countElement.textContent = `${count}/135 characters`;
                if (count > 135) {
                    countElement.style.color = '#ef4444';
                } else if (count > 120) {
                    countElement.style.color = '#f59e0b';
                } else {
                    countElement.style.color = '#6b7280';
                }
                console.log('Character count updated to:', countElement.textContent);
            }
        }

        // Make function globally accessible
        window.updateCharacterCount = updateCharacterCount;

        // Add event listener as backup
        document.addEventListener('DOMContentLoaded', function() {
            const reviewTextarea = document.getElementById('review-text');
            if (reviewTextarea) {
                reviewTextarea.addEventListener('input', function() {
                    updateCharacterCount(this);
                });
            }
        });

        // --- Load and Display Reviews ---
        async function loadReviews() {
            try {
                const response = await fetch('/api/reviews?status=approved&limit=3');
                if (response.ok) {
                    const data = await response.json();
                    displayReviews(data.reviews || []);
                } else {
                    console.error('Failed to load reviews');
                    showNoReviews();
                }
            } catch (error) {
                console.error('Error loading reviews:', error);
                showNoReviews();
            }
        }

        function displayReviews(reviews) {
            const container = document.getElementById('reviews-container');
            const loading = document.getElementById('reviews-loading');
            const noReviews = document.getElementById('no-reviews');
            
            // Hide loading state
            if (loading) loading.style.display = 'none';
            
            if (!reviews || reviews.length === 0) {
                showNoReviews();
                return;
            }
            
            // Show only first 3 reviews
            const limitedReviews = reviews.slice(0, 3);
            
            container.innerHTML = limitedReviews.map((review, index) => `
                <div class="p-8 bg-white rounded-lg shadow-md testimonial-card animate-fade-in-up" style="animation-delay: ${0.3 + (index * 0.1)}s;">
                    <img src="https://placehold.co/80x80/e0e7ff/374151?text=${review.customerName.charAt(0).toUpperCase()}" class="w-20 h-20 mx-auto -mt-16 border-4 border-white rounded-full" alt="Customer avatar">
                    <div class="my-4 stars">${generateStars(review.rating)}</div>
                    <p class="italic text-gray-600">"${review.reviewText}"</p>
                    <p class="mt-4 font-semibold text-primary">- ${review.customerName}</p>
                    <div class="mt-2 text-sm text-gray-500">
                        <span class="inline-flex items-center gap-1">
                            <i class="fas fa-calendar-alt"></i>
                            ${new Date(review.createdAt).toLocaleDateString()}
                        </span>
                        ${review.serviceType ? `<span class="inline-flex items-center gap-1 ml-3">
                            <i class="fas fa-broom"></i>
                            ${review.serviceType}
                        </span>` : ''}
                    </div>
                </div>
            `).join('');
            
            // Hide no reviews state
            if (noReviews) noReviews.style.display = 'none';
        }

        function generateStars(rating) {
            const fullStars = Math.floor(rating);
            const hasHalfStar = rating % 1 !== 0;
            let stars = '';
            
            for (let i = 0; i < fullStars; i++) {
                stars += '<i class="text-yellow-500 fas fa-star"></i>';
            }
            
            if (hasHalfStar) {
                stars += '<i class="text-yellow-500 fas fa-star-half-alt"></i>';
            }
            
            const emptyStars = 5 - Math.ceil(rating);
            for (let i = 0; i < emptyStars; i++) {
                stars += '<i class="text-yellow-500 far fa-star"></i>';
            }
            
            return stars;
        }

        function showNoReviews() {
            const container = document.getElementById('reviews-container');
            const loading = document.getElementById('reviews-loading');
            const noReviews = document.getElementById('no-reviews');
            
            if (loading) loading.style.display = 'none';
            if (container) container.innerHTML = '';
            if (noReviews) noReviews.style.display = 'block';
        }

        // Load reviews on page load
        loadReviews();

        // Event listeners for reviews
        document.getElementById('submit-review-btn')?.addEventListener('click', openReviewModal);
        document.getElementById('close-review-modal')?.addEventListener('click', closeReviewModal);
        document.getElementById('cancel-review')?.addEventListener('click', closeReviewModal);
        document.getElementById('submit-review')?.addEventListener('click', submitReview);

        // Close modal when clicking outside
        document.getElementById('review-modal')?.addEventListener('click', (e) => {
            if (e.target.id === 'review-modal') {
                closeReviewModal();
            }
        });

        // --- Multi-Language Support, Modals, Page Interactivity, etc. ---
        const translations = {
            en: {
                companyName: "AJK Cleaning Company", skipLink: "Skip to main content",
                navHome: "Home", navServices: "Services", navAbout: "About", navTestimonials: "Testimonials", navFaq: "FAQ", navContact: "Contact", navQuote: "Book Now",
                heroTitle: "Experience the AJK Standard of Clean in Bischofsheim",
                heroSubtitle: "Fully insured, eco-friendly products, and satisfaction guaranteed. Serving Bischofsheim, Mainz, Wiesbaden & surrounding areas.",
                heroBtnBookNow: "Book Now", heroBtnServices: "Our Services",
                trustTitle: "Trusted By Your Neighbors & Fully Certified",
                trustEco: "Eco-Friendly", trustRated: "5-Star Rated", trustGuaranteed: "Satisfaction Guaranteed",
                servicesTitle: "Our Premium Cleaning Services",
                servicesSubtitle: "We offer a wide range of cleaning services tailored to meet your specific needs and exceed your expectations in Bischofsheim and surrounding areas.",
                service1Title: "Residential Cleaning", service1Desc: "Keep your home spotless with our detailed cleaning services.",
                service2Title: "Commercial Cleaning", service2Desc: "Reliable cleaning for offices and businesses of all sizes.",
                service3Title: "Deep Cleaning", service3Desc: "Thorough cleaning for a refreshed and healthy space.",
                service4Title: "Move-In/Move-Out", service4Desc: "Start fresh in your new place with our moving cleaning.",
                serviceLearnMore: "Learn More", serviceBtnChecklist: "✨ Get Cleaning Checklist",
                howitworksTitle: "Our Simple 3-Step Process",
                howitworksSubtitle: "Getting your space professionally cleaned has never been easier.",
                howitworksStep1Title: "Request a Quote",
                howitworksStep1Desc: "Fill out our quick contact form or give us a call to tell us about your cleaning needs.",
                howitworksStep2Title: "We Clean Your Space",
                howitworksStep2Desc: "Our professional, vetted team arrives on time with eco-friendly supplies to make your home sparkle.",
                howitworksStep3Title: "Enjoy the Freshness",
                howitworksStep3Desc: "Come back to a spotless, fresh-smelling space and enjoy your free time.",
                comparisonTitle: "Compare Our Cleaning Packages",
                comparisonSubtitle: "Find the perfect service for your needs. Contact us for a custom quote for commercial spaces.",
                comparisonHeaderFeature: "Feature",
                featureDust: "Dust all surfaces",
                featureVacuum: "Vacuum & Mop Floors",
                featureWipeKitchen: "Wipe Kitchen Counters",
                featureCleanBathrooms: "Clean & Sanitize Bathrooms",
                featureBaseboards: "Wipe Skirting Boards",
                featureAppliances: "Clean Appliance Exteriors",
                featureOven: "Clean Inside Oven",
                featureFridge: "Clean Inside Fridge",
                featureCabinets: "Clean Inside Cabinets",
                areaTitle: "Proudly Serving the Rhine-Main Area",
                areaSubtitle: "We provide reliable, high-quality cleaning services to homes and businesses in the following areas:",
                aboutTitle: "Why Choose AJK Cleaning?",
                aboutP1: "At AJK Cleaning Company, we are dedicated to providing premium cleaning services with a commitment to quality and community. Our team uses eco-friendly products and ensures every job meets our AJK standard of clean.",
                aboutP2: "Founded in 2022, we've grown to become one of the most trusted cleaning services in the Bischofsheim area, serving hundreds of satisfied residential and commercial clients.",
                aboutPoint1: "Fully Insured & Bonded", aboutPoint2: "Eco-Friendly Products", aboutPoint3: "Trained Professionals", aboutPoint4: "Satisfaction Guaranteed",
                testimonialsTitle: "What Our Customers Say",
                testimonialsSubtitle: "We're proud of our 5-star reputation. Here's what some of our clients have to say.",
                submitReviewBtn: "Submit Your Review",
                faqTitle: "Frequently Asked Questions",
                faqSubtitle: "Have questions? We have answers. Here are some common queries we receive from our clients in the Bischofsheim area.",
                faq: [
                    { q: "What areas do you serve?", a: "We proudly serve Bischofsheim, Ginsheim-Gustavsburg, Mainz, Wiesbaden, and surrounding communities within a 25km radius." },
                    { q: "Are you insured and bonded?", a: "Yes, we are fully insured and bonded for your peace of mind. All our cleaning professionals are vetted and trained to the highest standards." },
                    { q: "Do you use eco-friendly products?", a: "Absolutely. We prioritize the health of your family, pets, and our planet by using high-quality, eco-friendly cleaning products that are both safe and effective." },
                    { q: "How do I get a quote?", a: "You can get a free, no-obligation quote by filling out the contact form on our website or by calling us directly at +49 176 61852286." }
                ],
                calculatorTitle: "Get an Instant Estimate",
                calculatorSubtitle: "This is an estimate only. A final quote will be provided after consultation.",
                calculatorResultTitle: "Estimated Price:", calculatorResultSubtitle: "Based on a one-time cleaning",
                tipTitle: "✨ Get a Pro Cleaning Tip",
                tipSubtitle: "Stuck on a tough cleaning problem? Let our AI expert help you out!",
                tipRoomLabel: "Select a Room", tipChallengeLabel: "Select a Challenge",
                tipRoomKitchen: "Kitchen", tipRoomBathroom: "Bathroom", tipRoomLiving: "Living Room", tipRoomBedroom: "Bedroom",
                tipChallengeGrime: "Everyday Grime", tipChallengeGrease: "Tough Grease", tipChallengeLimescale: "Limescale & Hard Water", tipChallengeDust: "Dust & Allergens", tipChallengePet: "Pet Messes",
                tipBtnGenerate: "Generate Tip",
                contactTitle: "Get In Touch",
                contactSubtitle: "We're here to answer any questions. Reach out for a free, no-obligation quote for your cleaning needs in Bischofsheim.",
                contactHours: "Mon - Sat: 8:00am - 6:00pm",
                formTitle: "Request Your Free Quote",
                formName: "Name *", formEmail: "Email (Optional)", formPhone: "Phone *", formMessage: "Message *",
                formServiceLabel: "Select a Service", formServiceSelect: "Select a Service",
                formBtnSubmit: "Submit Request", formBtnSending: "Sending...",
                formSuccess: "Thank you! We'll be in touch soon.", formError: "An error occurred. Please try again.",
                footerDesc: "Premium Cleaning Solutions for Homes and Offices in Bischofsheim",
                footerLinksTitle: "Quick Links", footerServicesTitle: "Our Services", footerFollowTitle: "Follow Us",
                footerImpressum: "Impressum", footerPrivacy: "Data Protection", footerRights: "All rights reserved.",
                ctaCall: "Call Now", ctaQuote: "Get Quote",
                modalDownload: "Download", modalClose: "Close"
            },
            de: {
                companyName: "AJK Reinigungsfirma", skipLink: "Zum Hauptinhalt springen",
                navHome: "Startseite", navServices: "Leistungen", navAbout: "Über uns", navTestimonials: "Kundenstimmen", navFaq: "FAQ", navContact: "Kontakt", navQuote: "Jetzt Buchen",
                heroTitle: "Erleben Sie den AJK-Reinigungsstandard in Bischofsheim",
                heroSubtitle: "Voll versichert, umweltfreundliche Produkte und Zufriedenheitsgarantie. Für Sie da in Bischofsheim, Mainz, Wiesbaden und Umgebung.",
                heroBtnBookNow: "Jetzt Buchen", heroBtnServices: "Unsere Leistungen",
                trustTitle: "Von Ihren Nachbarn vertraut & vollständig zertifiziert",
                trustEco: "Umweltfreundlich", trustRated: "Top bewertet", trustGuaranteed: "Zufriedenheitsgarantie",
                servicesTitle: "Unsere Premium-Reinigungsdienste",
                servicesSubtitle: "Wir bieten eine breite Palette von Reinigungsdiensten, die darauf zugeschnitten sind, Ihre spezifischen Bedürfnisse zu erfüllen und Ihre Erwartungen in Bischofsheim und Umgebung zu übertreffen.",
                service1Title: "Haushaltsreinigung", service1Desc: "Halten Sie Ihr Zuhause mit unseren detaillierten Reinigungsdiensten makellos.",
                service2Title: "Gewerbereinigung", service2Desc: "Zuverlässige Reinigung für Büros und Unternehmen jeder Größe.",
                service3Title: "Grundreinigung", service3Desc: "Gründliche Reinigung für ein frisches und gesundes Umfeld.",
                service4Title: "Umzugsreinigung", service4Desc: "Starten Sie frisch in Ihrem neuen Zuhause mit unserer Umzugsreinigung.",
                serviceLearnMore: "Mehr erfahren", serviceBtnChecklist: "✨ Checkliste ansehen",
                howitworksTitle: "Unser einfacher 3-Schritte-Prozess",
                howitworksSubtitle: "Die professionelle Reinigung Ihrer Räume war noch nie einfacher.",
                howitworksStep1Title: "Angebot anfordern",
                howitworksStep1Desc: "Füllen Sie unser kurzes Kontaktformular aus oder rufen Sie uns an, um uns Ihre Reinigungsanforderungen mitzuteilen.",
                howitworksStep2Title: "Wir reinigen Ihre Räume",
                howitworksStep2Desc: "Unser professionelles, geprüftes Team kommt pünktlich mit umweltfreundlichen Mitteln, um Ihr Zuhause zum Strahlen zu bringen.",
                howitworksStep3Title: "Genießen Sie die Frische",
                howitworksStep3Desc: "Kehren Sie in einen makellosen, frisch duftenden Raum zurück und genießen Sie Ihre Freizeit.",
                comparisonTitle: "Vergleichen Sie unsere Reinigungspakete",
                comparisonSubtitle: "Finden Sie den perfekten Service für Ihre Bedürfnisse. Kontaktieren Sie uns für ein individuelles Angebot für Gewerbeflächen.",
                comparisonHeaderFeature: "Merkmal",
                featureDust: "Alle Oberflächen abstauben",
                featureVacuum: "Böden saugen & wischen",
                featureWipeKitchen: "Küchenarbeitsplatten abwischen",
                featureCleanBathrooms: "Badezimmer reinigen & desinfizieren",
                featureBaseboards: "Fußleisten abwischen",
                featureAppliances: "Außenseiten von Geräten reinigen",
                featureOven: "Backofen innen reinigen",
                featureFridge: "Kühlschrank innen reinigen",
                featureCabinets: "Schränke innen reinigen",
                areaTitle: "Wir sind im Rhein-Main-Gebiet für Sie da",
                areaSubtitle: "Wir bieten zuverlässige, hochwertige Reinigungsdienste für Haushalte und Unternehmen in folgenden Bereichen:",
                aboutTitle: "Warum Sie AJK Reinigung wählen sollten",
                aboutP1: "Bei der AJK Reinigungsfirma widmen wir uns der Bereitstellung erstklassiger Reinigungsdienste mit Engagement für Qualität und Gemeinschaft. Unser Team verwendet umweltfreundliche Produkte und stellt sicher, dass jeder Auftrag unserem hohen AJK-Standard entspricht.",
                aboutP2: "Seit unserer Gründung 2022 sind wir zu einem der vertrauenswürdigsten Reinigungsdienste in der Region Bischofsheim herangewachsen und bedienen Hunderte zufriedener Privat- und Geschäftskunden.",
                aboutPoint1: "Voll versichert", aboutPoint2: "Umweltfreundliche Produkte", aboutPoint3: "Geschulte Fachkräfte", aboutPoint4: "Zufriedenheitsgarantie",
                testimonialsTitle: "Was unsere Kunden sagen",
                testimonialsSubtitle: "Wir sind stolz auf unseren 5-Sterne-Ruf. Das sagen einige unserer Kunden.",
                submitReviewBtn: "Bewertung abgeben",
                faqTitle: "Häufig gestellte Fragen",
                faqSubtitle: "Haben Sie Fragen? Wir haben die Antworten. Hier sind einige häufige Anliegen unserer Kunden aus dem Raum Bischofsheim.",
                 faq: [
                     { q: "In welchen Gebieten sind Sie tätig?", a: "Wir sind stolz darauf, Bischofsheim, Ginsheim-Gustavsburg, Mainz, Wiesbaden und umliegende Gemeinden in einem Radius von 25 km zu bedienen." },
                     { q: "Sind Sie versichert?", a: "Ja, zu Ihrer Sicherheit sind wir voll haftpflichtversichert. Alle unsere Reinigungskräfte werden überprüft und auf höchstem Niveau geschult." },
                     { q: "Verwenden Sie umweltfreundliche Produkte?", a: "Absolut. Wir legen Wert auf die Gesundheit Ihrer Familie, Haustiere und unseres Planeten, indem wir hochwertige, umweltfreundliche Reinigungsprodukte verwenden." },
                     { q: "Wie erhalte ich ein Angebot?", a: "Sie erhalten ein kostenloses, unverbindliches Angebot, indem Sie das Kontaktformular auf unserer Website ausfüllen oder uns direkt unter +49 176 61852286 anrufen." }
                 ],
                calculatorTitle: "Sofortige Kostenschätzung",
                calculatorSubtitle: "Dies ist nur eine Schätzung. Ein endgültiges Angebot wird nach einer Beratung erstellt.",
                calculatorResultTitle: "Geschätzter Preis:", calculatorResultSubtitle: "Basierend auf einer einmaligen Reinigung",
                tipTitle: "✨ Profi-Reinigungstipp erhalten",
                tipSubtitle: "Bei einem hartnäckigen Reinigungsproblem festgefahren? Lassen Sie sich von unserem KI-Experten helfen!",
                tipRoomLabel: "Raum wählen", tipChallengeLabel: "Problem wählen",
                tipRoomKitchen: "Küche", tipRoomBathroom: "Badezimmer", tipRoomLiving: "Wohnzimmer", tipRoomBedroom: "Schlafzimmer",
                tipChallengeGrime: "Alltäglicher Schmutz", tipChallengeGrease: "Hartnäckiges Fett", tipChallengeLimescale: "Kalk & hartes Wasser", tipChallengeDust: "Staub & Allergene", tipChallengePet: "Haustier-Schmutz",
                tipBtnGenerate: "Tipp generieren",
                contactTitle: "Kontakt aufnehmen",
                contactSubtitle: "Wir beantworten gerne Ihre Fragen. Fordern Sie ein kostenloses, unverbindliches Angebot für Ihren Reinigungsbedarf in Bischofsheim an.",
                contactHours: "Mo - Sa: 08:00 - 18:00 Uhr",
                formTitle: "Fordern Sie Ihr kostenloses Angebot an",
                formName: "Name *", formEmail: "E-Mail (Optional)", formPhone: "Telefon *", formMessage: "Nachricht *",
                formServiceLabel: "Leistung auswählen", formServiceSelect: "Leistung auswählen",
                formBtnSubmit: "Anfrage absenden", formBtnSending: "Senden...",
                formSuccess: "Vielen Dank! Wir werden uns bald bei Ihnen melden.", formError: "Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.",
                footerDesc: "Premium-Reinigungslösungen für Haushalte und Büros in Bischofsheim",
                footerLinksTitle: "Quick Links", footerServicesTitle: "Unsere Leistungen", footerFollowTitle: "Folgen Sie uns",
                footerImpressum: "Impressum", footerPrivacy: "Datenschutz", footerRights: "Alle Rechte vorbehalten.",
                ctaCall: "Jetzt anrufen", ctaQuote: "Angebot anfordern",
                modalDownload: "Herunterladen", modalClose: "Schließen"
            }
        };

        const setLanguage = (lang) => {
            if (!translations[lang]) return;
            document.documentElement.lang = lang;
            localStorage.setItem('preferredLanguage', lang);
            document.querySelectorAll('[data-translate]').forEach(el => {
                const key = el.dataset.translate;
                if (translations[lang][key]) el.innerHTML = translations[lang][key];
            });
            document.querySelectorAll('[data-translate-placeholder]').forEach(el => {
                const key = el.dataset.translatePlaceholder;
                if (translations[lang][key]) el.placeholder = translations[lang][key];
            });
            renderFaq(lang);
            document.querySelectorAll('.lang-switcher button').forEach(btn => {
                btn.classList.toggle('active', btn.dataset.lang === lang);
            });
        };

        const renderFaq = (lang) => {
            const faqContainer = document.getElementById('faq-container');
            if (faqContainer && translations[lang] && translations[lang].faq) {
                faqContainer.innerHTML = '';
                translations[lang].faq.forEach((item, index) => {
                    const faqItem = document.createElement('div');
                    faqItem.className = 'faq-item bg-white p-5 rounded-lg shadow-sm border border-gray-200 animate-fade-in-up';
                    faqItem.style.animationDelay = `${0.3 + index * 0.1}s`;
                    faqItem.innerHTML = `<div class="flex items-center justify-between font-semibold text-gray-800 faq-question"><p>${item.q}</p><i class="fas fa-chevron-down faq-icon text-primary"></i></div><div class="pt-3 text-gray-600 faq-answer">${item.a}</div>`;
                    faqContainer.appendChild(faqItem);
                });
            }
        };
        
        document.querySelectorAll('.lang-switcher button').forEach(btn => {
            btn.addEventListener('click', () => setLanguage(btn.dataset.lang));
        });

        // --- Checklist Modal ---
        const checklistModal = document.getElementById('checklist-modal');
        const checklistModalContent = document.getElementById('checklist-modal-content');
        const checklistModalTitle = document.getElementById('checklist-modal-title');
        const checklistModalClose = document.getElementById('checklist-modal-close');
        const checklistModalCloseBottom = document.getElementById('checklist-modal-close-bottom');
        const checklistModalDownload = document.getElementById('checklist-modal-download');
        const checklistLoader = document.getElementById('checklist-loader');
        const checklistContent = document.getElementById('checklist-content');
        const checklistError = document.getElementById('checklist-error');
        let currentChecklistText = "";

        const createChecklistPrompt = (serviceName) => {
             const lang = document.documentElement.lang || 'en';
             return `Act as a professional cleaning expert. Generate a comprehensive cleaning checklist for a typical '${serviceName}' service, in ${lang === 'de' ? 'German' : 'English'}. Format in Markdown with headings (like '# Kitchen') and bullet points (like '* Wipe countertops').`;
        }

        const openChecklistModal = (serviceName) => {
            checklistModalTitle.textContent = `${serviceName} Checklist`;
            checklistContent.classList.add('hidden');
            checklistError.classList.add('hidden');
            checklistLoader.style.display = 'flex';
            checklistModalDownload.classList.add('hidden');
            checklistModal.classList.remove('hidden');
            checklistModal.classList.add('flex');
            setTimeout(() => checklistModal.classList.remove('opacity-0'), 10);
            setTimeout(() => checklistModalContent.classList.remove('scale-95'), 10);
            generateChecklist(serviceName);
        };

        const closeChecklistModal = () => {
            checklistModal.classList.add('opacity-0');
            checklistModalContent.classList.add('scale-95');
            setTimeout(() => { checklistModal.classList.add('hidden'); checklistModal.classList.remove('flex'); }, 300);
        };

        const generateChecklist = async (serviceName) => {
            const prompt = createChecklistPrompt(serviceName);
            try {
                const text = await callGeminiAPI([{ role: 'user', parts: [{ text: prompt }] }]);
                currentChecklistText = text;
                checklistContent.innerHTML = chatManager.markdownToHtml(text);
                checklistLoader.style.display = 'none';
                checklistContent.classList.remove('hidden');
                checklistModalDownload.classList.remove('hidden');
            } catch (error) {
                console.error("Gemini API call failed:", error.message);
                checklistLoader.style.display = 'none';
                checklistError.innerHTML = `Sorry, we couldn't generate the checklist. <br><small>Reason: ${error.message}</small>`;
                checklistError.classList.remove('hidden');
            }
        };

        document.querySelectorAll('.get-checklist-btn').forEach(btn => {
            btn.addEventListener('click', (e) => openChecklistModal(e.target.dataset.service));
        });

        checklistModalClose.addEventListener('click', closeChecklistModal);
        checklistModalCloseBottom.addEventListener('click', closeChecklistModal);
        checklistModal.addEventListener('click', (e) => { if (e.target === checklistModal) closeChecklistModal(); });
        checklistModalDownload.addEventListener('click', () => {
            const blob = new Blob([currentChecklistText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            const serviceName = checklistModalTitle.textContent.replace(' Checklist', '').toLowerCase().replace(/ /g, '_');
            a.href = url; a.download = `${serviceName}_checklist.txt`;
            document.body.appendChild(a); a.click();
            document.body.removeChild(a); URL.revokeObjectURL(url);
        });

        // --- AI Cleaning Tip Generator ---
        const generateTipBtn = document.getElementById('generate-tip-btn');
        const tipResultContainer = document.getElementById('tip-result-container');
        const tipResultLoader = document.getElementById('tip-result-loader');
        const tipResultText = document.getElementById('tip-result-text');

        generateTipBtn.addEventListener('click', async () => {
            const room = document.getElementById('tip-room').value;
            const challenge = document.getElementById('tip-challenge').value;
            const lang = document.documentElement.lang || 'en';
            tipResultContainer.classList.remove('hidden');
            setTimeout(() => tipResultContainer.classList.remove('opacity-0'), 10);
            tipResultText.classList.add('hidden');
            tipResultLoader.style.display = 'flex';
            const prompt = `You are a friendly cleaning expert. Provide a quick, eco-friendly cleaning tip in ${lang === 'de' ? 'German' : 'English'} for tackling "${challenge}" in a "${room}". Keep it under 50 words and easy to follow.`;
            try {
                const text = await callGeminiAPI([{ role: 'user', parts: [{ text: prompt }] }]);
                tipResultLoader.style.display = 'none';
                tipResultText.textContent = text;
                tipResultText.classList.remove('hidden');
            } catch(error) {
                tipResultLoader.style.display = 'none';
                tipResultText.innerHTML = `Sorry, could not generate a tip. Error: ${error.message}`;
                tipResultText.classList.remove('hidden');
            }
        });
        
        // --- IMPROVED: Calculator Logic ---
        const styledSliders = document.querySelectorAll('.styled-slider');
        const calcService = document.getElementById('calc-service');
        const residentialInputs = document.getElementById('residential-inputs');
        const commercialInputs = document.getElementById('commercial-inputs');
        const calcFrequency = document.getElementById('calc-frequency');
        const estimateResult = document.getElementById('estimate-result');

        function updateSliderUI(slider) {
            const valueDisplay = document.getElementById(slider.id.replace('calc-', '') + '-value');
            if (valueDisplay) {
                valueDisplay.textContent = slider.value;
            }
            const min = slider.min || 0;
            const max = slider.max || 100;
            const percent = ((slider.value - min) / (max - min)) * 100;
            slider.style.background = `linear-gradient(to right, var(--primary) ${percent}%, #e5e7eb ${percent}%)`;
        }

        function updateEstimate() {
            const selectedOption = calcService.options[calcService.selectedIndex];
            const serviceType = selectedOption.dataset.type;
            const serviceBase = parseInt(selectedOption.value);
            residentialInputs.classList.toggle('hidden', serviceType === 'commercial');
            commercialInputs.classList.toggle('hidden', serviceType !== 'commercial');
            let price = serviceBase;
            if (serviceType === 'commercial') {
                price += (parseInt(document.getElementById('calc-sqm').value) * 1.5);
                price *= parseFloat(calcFrequency.value);
            } else {
                price += (parseInt(document.getElementById('calc-bedrooms').value) * 25) + (parseInt(document.getElementById('calc-bathrooms').value) * 35);
            }
            const lowerBound = Math.round(price * 0.9 / 5) * 5;
            const upperBound = Math.round(price * 1.1 / 5) * 5;
            estimateResult.textContent = `€${lowerBound} - €${upperBound}`;
        }

        styledSliders.forEach(slider => {
            slider.addEventListener('input', () => updateSliderUI(slider));
            updateSliderUI(slider); // Initial update
        });

        [calcService, calcFrequency, ...styledSliders].forEach(el => {
            el.addEventListener(el.tagName === 'SELECT' ? 'change' : 'input', updateEstimate);
        });
        
        // --- Page Interactivity ---
        document.getElementById('copyright-year').textContent = new Date().getFullYear();
        document.getElementById('faq-container').addEventListener('click', (e) => {
            const question = e.target.closest('.faq-question');
            if (question) { question.parentElement.classList.toggle('open'); }
        });
        const menuBtn = document.getElementById('menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            const isExpanded = menuBtn.getAttribute('aria-expanded') === 'true';
            mobileMenu.classList.toggle('open');
            menuBtn.classList.toggle('menu-open');
            menuBtn.setAttribute('aria-expanded', !isExpanded);
            mobileMenu.setAttribute('aria-hidden', isExpanded);
        });
        document.querySelectorAll('#mobile-menu a').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('open');
                menuBtn.classList.remove('menu-open');
                menuBtn.setAttribute('aria-expanded', 'false');
                mobileMenu.setAttribute('aria-hidden', 'true');
            });
        });
        const navbar = document.getElementById('navbar');
        const navLinks = document.querySelectorAll('nav a');
        window.addEventListener('scroll', () => {
            navbar.classList.toggle('navbar-scrolled', window.scrollY > 50);
            let currentSection = "";
            document.querySelectorAll('main > section').forEach(section => {
                if (section.offsetTop <= window.scrollY + 150) { currentSection = section.id; }
            });
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === currentSection) { link.classList.add('active'); }
            });
        });

        // --- Enhanced Contact Form ---
        const contactForm = document.getElementById('contact-form');
        const nameInput = document.getElementById('name');
        const phoneInput = document.getElementById('phone');
        const messageInput = document.getElementById('message');
        const charCounter = document.getElementById('char-counter');
        const submitBtn = document.getElementById('submit-btn');

        const validators = {
            name: (v) => v.trim().length >= 2,
            phone: (v) => /^[+]?[\d\s\-()]{8,20}$/.test(v.trim()),
            message: (v) => v.trim().length >= 10 && v.trim().length <= 1000,
        };

        const validateField = (field) => {
            const isValid = validators[field.id] ? validators[field.id](field.value) : true;
            field.classList.toggle('valid', isValid);
            field.classList.toggle('invalid', !isValid);
            checkFormValidity();
        };
        
        const checkFormValidity = () => {
            submitBtn.disabled = !(validators.name(nameInput.value) && validators.phone(phoneInput.value) && validators.message(messageInput.value));
        };

        [nameInput, phoneInput, messageInput].forEach(input => {
            input.addEventListener('input', () => validateField(input));
        });

        messageInput.addEventListener('input', () => {
            const len = messageInput.value.length;
            charCounter.textContent = `${len} / 1000`;
            charCounter.classList.toggle('invalid', len < 10 || len > 1000);
        });

        contactForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            checkFormValidity();
            if (submitBtn.disabled) return;
            const submitText = document.getElementById('submit-text');
            const submitLoading = document.getElementById('submit-loading');
            const formSuccess = document.getElementById('form-success');
            const formError = document.getElementById('form-error');
            submitText.classList.add('hidden'); submitLoading.classList.remove('hidden');
            submitBtn.disabled = true; formSuccess.classList.add('hidden'); formError.classList.add('hidden');
            try {
                const csrfToken = getCSRFToken();
                const response = await fetch('/api/form/submit', {
                    method: 'POST', 
                    headers: { 
                        'Content-Type': 'application/json',
                        'X-CSRF-Token': csrfToken || ''
                    },
                    body: JSON.stringify(Object.fromEntries(new FormData(contactForm).entries()))
                });
                if (!response.ok) { throw new Error((await response.json()).error || 'Form submission failed'); }
                formSuccess.classList.remove('hidden'); contactForm.reset();
                [nameInput, phoneInput, messageInput].forEach(input => input.classList.remove('valid', 'invalid'));
                charCounter.textContent = '0 / 1000'; charCounter.classList.remove('invalid');
                checkFormValidity();
            } catch (error) {
                formError.textContent = error.message; formError.classList.remove('hidden');
            } finally {
                submitText.classList.remove('hidden'); submitLoading.classList.add('hidden');
            }
        });
        
        // --- IMPROVED: Date Picker Logic ---
        const preferredDateInput = document.getElementById('preferred-date');
        const today = new Date();
        const maxDate = new Date();
        maxDate.setMonth(today.getMonth() + 3);

        // Set the minimum date to today (cannot select past dates)
        preferredDateInput.min = today.toISOString().split("T")[0];
        // Set the maximum date to 3 months from now
        preferredDateInput.max = maxDate.toISOString().split("T")[0];

        // --- Initial Load ---
        const userLang = localStorage.getItem('preferredLanguage') || navigator.language.split('-')[0];
        setLanguage(translations[userLang] ? userLang : 'en');
        updateEstimate();
        checkFormValidity();
    });
    </script>
    <script>
      (function() {
        function getAnalyticsSessionId() {
          let sessionId = sessionStorage.getItem('ajkAnalyticsSessionId');
          if (!sessionId) {
            sessionId = `session_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
            sessionStorage.setItem('ajkAnalyticsSessionId', sessionId);
          }
          return sessionId;
        }
        async function trackEvent(eventType, eventData = {}) {
          const payload = { eventType, path: window.location.pathname, referrer: document.referrer || 'direct', sessionId: getAnalyticsSessionId(), ...eventData };
          try {
            if (navigator.sendBeacon) {
              navigator.sendBeacon('/api/analytics/track', new Blob([JSON.stringify(payload)], { type: 'application/json' }));
            } else {
              await fetch('/api/analytics/track', { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(payload), keepalive: true });
            }
          } catch (error) { console.error('Analytics tracking failed:', error); }
        }
        trackEvent('pageview');
      })();
    </script>
</body>
</html>